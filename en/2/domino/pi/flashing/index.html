<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../../../../../../favicon.png">
        

	<title>Pi - Flashing and debricking - GL.iNet Docs</title>

        <link href="../../../css/bootstrap-custom.min.css" rel="stylesheet">
        <link href="../../../css/font-awesome-4.5.0.css" rel="stylesheet">
        <link href="../../../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="../../../css/highlight.css">
        <link href="../../../css/extra.css" rel="stylesheet">

        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->

        
        <script>
            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
            })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

            ga('create', 'UA-108265653-5', 'docs.glinet.com');
            ga('send', 'pageview');
        </script>
        
    </head>

    <body>

        <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            

            <!-- Main title -->
            <a class="navbar-brand" href="https://www.gl-inet.com" style="padding: 10px"><img src="../../../img/logo.png" style="height:30px"></a>
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
            
                <!-- Main navigation -->
                <ul class="nav navbar-nav">
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Home <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../../..">Home</a>
</li>

                        
                            
<li >
    <a href="../../../service/">Services</a>
</li>

                        
                        </ul>
                    </li>
                
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Hardware <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../../../hardware/ar150/">GL-AR150 Series</a>
</li>

                        
                            
<li >
    <a href="../../../hardware/ar300m/">GL-AR300M Series</a>
</li>

                        
                            
<li >
    <a href="../../../hardware/mt300a/">GL-MT300A</a>
</li>

                        
                            
<li >
    <a href="../../../hardware/mt300n/">GL-MT300N</a>
</li>

                        
                            
<li >
    <a href="../../../hardware/mt300n-v2/">GL-MT300N-V2</a>
</li>

                        
                            
<li >
    <a href="../../../hardware/ar750/">GL-AR750 Series</a>
</li>

                        
                            
<li >
    <a href="../../../hardware/mifi/">GL-MiFi Series</a>
</li>

                        
                            
<li >
    <a href="../../../hardware/usb150/">GL-USB150 (Microuter)</a>
</li>

                        
                            
<li >
    <a href="../../../hardware/b1300/">GL-B1300</a>
</li>

                        
                            
<li >
    <a href="../../../hardware/6416/">GL.iNet6416</a>
</li>

                        
                            
<li >
    <a href="../../../hardware/ar300/">GL-AR300</a>
</li>

                        
                        </ul>
                    </li>
                
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Setup <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../../../setup/first-time_setup/">First-time Setup</a>
</li>

                        
                            
<li >
    <a href="../../../setup/internet_setting/">Internet Settings</a>
</li>

                        
                            
<li >
    <a href="../../../setup/mac_clone/">MAC Clone</a>
</li>

                        
                            
<li >
    <a href="../../../setup/dns/">DNS Setting</a>
</li>

                        
                            
<li >
    <a href="../../../setup/repeater_manager/">Repeater Manager</a>
</li>

                        
                            
<li >
    <a href="../../../setup/lan_ip/">LAN IP</a>
</li>

                        
                            
<li >
    <a href="../../../setup/wifi_setting/">Wi-Fi Settings (AP)</a>
</li>

                        
                            
<li >
    <a href="../../../setup/firmware/">Firmware Upgrading</a>
</li>

                        
                            
<li >
    <a href="../../../setup/modem_manager/">Momdem Manager</a>
</li>

                        
                            
<li >
    <a href="../../../setup/rtc_setting/">RTC Setting</a>
</li>

                        
                        </ul>
                    </li>
                
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Development <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../../../dev/serial/">UART Serial</a>
</li>

                        
                            
<li >
    <a href="../../../dev/uboot/">Advanced Uboot</a>
</li>

                        
                            
<li >
    <a href="../../">Domino Kit</a>
</li>

                        
                        </ul>
                    </li>
                
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Application <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../../../app/ssh/">SSH to the router</a>
</li>

                        
                            
<li >
    <a href="../../../app/openvpn/">OpenVPN Client</a>
</li>

                        
                            
<li >
    <a href="../../../app/tor/">Tor</a>
</li>

                        
                            
<li >
    <a href="../../../app/tether/">EasyTether</a>
</li>

                        
                            
<li >
    <a href="../../../app/ss/">Shadowsocks</a>
</li>

                        
                            
<li >
    <a href="../../../app/wireguard/">WireGuard</a>
</li>

                        
                        </ul>
                    </li>
                
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Video <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../../../video/product_intro/">Product Intro</a>
</li>

                        
                            
<li >
    <a href="../../../video/tutor/">Tutorial</a>
</li>

                        
                            
<li >
    <a href="../../../video/review/">Customer Review</a>
</li>

                        
                        </ul>
                    </li>
                
                
                
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Troubleshooting <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../../../troubleshooting/led/">LED Indicator</a>
</li>

                        
                            
<li >
    <a href="../../../troubleshooting/reset/">Repair or Reset</a>
</li>

                        
                            
<li >
    <a href="../../../troubleshooting/debrick/">Debrick via Uboot</a>
</li>

                        
                            
<li >
    <a href="../../../troubleshooting/stop_supporting/">Stop Supporting</a>
</li>

                        
                        </ul>
                    </li>
                
                
                
                    <li class="dropdown active">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Domino Kit <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                        
                            
<li >
    <a href="../../">Getting Started</a>
</li>

                        
                            
<li >
    <a href="../../hardware/core/">Domore Core</a>
</li>

                        
                            
<li >
    <a href="../">Domino Pi</a>
</li>

                        
                            
<li >
    <a href="../pi/">Domino Pi Baseboard</a>
</li>

                        
                            
<li >
    <a href="../single_eth/">Domino Pi - Single Eth board</a>
</li>

                        
                            
<li >
    <a href="../dual_eth/">Domino Pi - Due Eth board</a>
</li>

                        
                            
<li >
    <a href="../single_usb/">Domino Pi - Signle USB board</a>
</li>

                        
                            
<li >
    <a href="../usb_combo/">Domino Pi - 3xUSB+MicroSD combo</a>
</li>

                        
                            
<li >
    <a href="../i2s/">Domino Pi - I2S board</a>
</li>

                        
                            
<li >
    <a href="../spi_jtag/">Domino Pi - SPI/JTAG</a>
</li>

                        
                            
<li >
    <a href="../led/">Domino Pi - LED</a>
</li>

                        
                            
<li >
    <a href="../../qi/mini/">Domino Qi Mini</a>
</li>

                        
                            
<li >
    <a href="../../qi/base/">Domino Qi baseboard</a>
</li>

                        
                            
<li >
    <a href="../using/">Pi - Using the firmware</a>
</li>

                        
                            
<li >
    <a href="../compile/">Pi - Compile firmware</a>
</li>

                        
                            
<li class="active">
    <a href="./">Pi - Flashing and debricking</a>
</li>

                        
                            
<li >
    <a href="../audio/">Pi - Playing Music</a>
</li>

                        
                            
<li >
    <a href="../serial/">Pi - Working with Serial</a>
</li>

                        
                            
<li >
    <a href="../spi/">Pi - Debricking using SPI/JTAG board</a>
</li>

                        
                            
<li >
    <a href="../../qi/">Qi - Getting Started</a>
</li>

                        
                            
<li >
    <a href="../../qi/arduino-yun/">Qi - Using Arduino or Linino Firmware</a>
</li>

                        
                            
<li >
    <a href="../../qi/nodejs/">Qi - Using NodeJS and LininoIO</a>
</li>

                        
                            
<li >
    <a href="../../qi/serial/">Qi - Using Serial</a>
</li>

                        
                        </ul>
                    </li>
                
                
                </ul>
            

            <ul class="nav navbar-nav navbar-right">
                <li>
                    <a href="#" data-toggle="modal" data-target="#mkdocs_search_modal">
                        <i class="fa fa-search"></i> Search
                    </a>
                </li>
                <li>
                    <a href="https://docs.gl-inet.com/en/3/"><i class="fa fa-book"></i> Docs 3</a>
                </li>
                
                
            </ul>
        </div>
    </div>
</div>

        <div class="container">
            
                <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
    
        <li class="main active"><a href="#flashing-and-debricking">flashing and debricking</a></li>
        
            <li><a href="#firmware-compatibilities">Firmware compatibilities</a></li>
        
            <li><a href="#flashing-firmware-using-the-webui">Flashing firmware using the WebUI</a></li>
        
            <li><a href="#flashing-using-uboot-webui">Flashing using uboot WebUI</a></li>
        
            <li><a href="#flashing-using-uboot-console">Flashing using uboot console</a></li>
        
            <li><a href="#debrick-using-spi-tile-board">Debrick using SPI tile board</a></li>
        
    
    </ul>
</div></div>
                <div class="col-md-9" role="main">

<h1 id="flashing-and-debricking">flashing and debricking</h1>
<p>Domino Pi is designed for you to play with OpenWrt and embedded systems. Before you continue to change your firmware, read the <a href="../serial.html">Working with serial</a> section first.</p>
<h2 id="firmware-compatibilities">Firmware compatibilities</h2>
<p>Domino is compatible with some common OpenWrt firmwares for the Atheros 9331 SoC, including the firmware for GL-AR150, Carambola2 and Dragino. Due to size and configuration of the bootloader, Domino cannot boot firmware for TP-Link 703n, 720n without changing the bootloader.</p>
<h2 id="flashing-firmware-using-the-webui">Flashing firmware using the WebUI</h2>
<p>We encourage you to flash your firmware using the WebUI provided. When viewing in "System" page, you will see the UI for you to upgrade/flash your firmware. 
<img alt="System" src="https://static.gl-inet.com/docs/en/2.x/domino/pi/src/system.jpg" /></p>
<p>If you want to upload your firmware in your disk, just click "Choose File" and upload the firmware. After upload you will be prompted with an option to "keep settings" or not. Then click "UPGRADE" to upgrade your firmware. You can also upgrade your firmware by clicking the "Download" button next to "Newest version". </p>
<p><img alt="System" src="https://static.gl-inet.com/docs/en/2.x/domino/pi/src/upgrade.jpg" /></p>
<p><strong>ATTENTION</strong>: In firmware version 1.0 and 1.1, there is a bug for Chrome. Please use Firefox or IE for upgrading your firmware.</p>
<h2 id="flashing-using-uboot-webui">Flashing using uboot WebUI</h2>
<p>In case you accediently brick your Domino firmware, you can debrick using uboot. You don't have to use serial if you want to use the uboot WebUI.</p>
<h3 id="step-1-connection">Step 1: Connection</h3>
<p>Connect an Ethernet cable from your computer to Domino directly. Set your computer's IP address to <code>192.168.1.2</code> manually. If you are using a Dual-Ethernet tile board, <strong>only connect one Ethernet cable to your Domino kit</strong>. </p>
<p><img alt="uboot" src="https://static.gl-inet.com/docs/en/2.x/domino/pi/src/pi-powerup.jpg" /></p>
<h3 id="step-2-activate-the-uboot-webui">Step 2: Activate the uboot WebUI</h3>
<p>Press and hold the reset button while powering on your Domino. You will see the <font color=blue>Blue LED</font> for Wireless flashing. After it flashes 5 times, the WAN led will light up. Now release your finger. The WAN LED will flash quite quickly for some times.</p>
<h3 id="step-3-flash-firmware">Step 3: Flash firmware</h3>
<p>Now use a web broser and go to http://192.168.1.1. You will then have the uboot WebUI as below.</p>
<p><img alt="uboot" src="https://static.gl-inet.com/docs/en/2.x/domino/pi/src/uboot.jpg" /></p>
<p>Now choose your firmware and click "Update firmware". Wait about 3 minutes to allow your board to reset and boot.</p>
<p><strong>ATTENTION</strong>: DON'T turn off the power during this process.</p>
<p><strong>ATTENTION</strong>: Uboot wont check the validity of the firmware. Even if you flashed a wrong firmware, it will still write it to flash.</p>
<h2 id="flashing-using-uboot-console">Flashing using uboot console</h2>
<p>If your firmware still cannot boot up, try this advanced option. To use uboot console, please refer to <a href="../serial.html">Working with serial</a> first. </p>
<p><strong>ATTENTION</strong>: It is better to use a separate USB-UART adapter to use the uboot console. uboot boots very quickly, so you might not have time to enter the uboot console if you are using an integrated USB-UART bridge. Some systems, especially Windows, are slow to load the correct driver for you.</p>
<h3 id="enter-the-uboot-console">Enter the uboot console</h3>
<p>In your serial term, press <code>anykey</code> when uboot boot and stop it in its console. Some version of uboot will ask your to type <code>gl</code> to enter the console.</p>
<p><img alt="uboot" src="https://static.gl-inet.com/docs/en/2.x/domino/pi/src/uboot_console.jpg" /></p>
<h3 id="uboot-environment-variables">Uboot environment variables</h3>
<p>Type <code>printenv</code> to display the environment variables. Don't modify these variables if you are not sure what you are doing.</p>
<p><img alt="environment variables" src="https://static.gl-inet.com/docs/en/2.x/domino/pi/src/environments.jpg" /></p>
<h3 id="set-up-a-tftp-server">Set up a tftp server</h3>
<p>You need to set up a tftp server. In Windows, we recommend <code>tftpd32</code> or <code>tftpd64</code> according to your system architecture. Download them from <a href="http://www.jounin.net/tftpd32_download.html">junin.net</a>.</p>
<p>In Linux, we recommend <code>tftpd-hpa</code>. Just search google for a guide to use this tool. </p>
<h3 id="update-using-the-stored-procedure">Update using the stored procedure</h3>
<p>You can update your firmware or uboot very simply using the procedure stored as environment variables.</p>
<p>To update the firmware, name your firmware file as <code>openwrt-domino.bin</code> and put it in your tftp server. Then run <code>run lf</code>. Just wait until this process finish.</p>
<p>To update the uboot, name your uboot as <code>uboot_for_domino.bin</code> and run <code>run lu</code> to change the uboot itself.</p>
<p><strong>ATTENTION</strong>: Changing uboot can be very dangerous. Do this at your own risk.</p>
<h3 id="update-using-uboot-command">Update using uboot command</h3>
<p>You can also update the firmware and everything else using the uboot command.</p>
<p>To update the firmware, use the following command. Replace with your own filename for your firmware.</p>
<pre><code>tftp 0x81000000 openwrt-domino.bin
erase 0x9f050000 +$filesize
cp.b 0x81000000 0x9f050000 $filesize
</code></pre>

<p>To update the uboot, use the following command. Replace the filename as your real name.</p>
<pre><code>tftp 0x81000000 uboot_for_domino.bin
erase 0x9f000000 0x40000
cp.b 0x81000000 0x9f000000 0x40000
</code></pre>

<p><strong>ATTENTION</strong>: Changing uboot can be very dangerous. Do this at your own risk.</p>
<h2 id="debrick-using-spi-tile-board">Debrick using SPI tile board</h2>
<p>Please refer to <a href="../spi/">JTAG/SPI tile board</a> for debricking.</p>
<div id="disqus_thread"></div>
<script>

/**
 *  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
 *  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables */
/*
var disqus_config = function () {
    this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
    this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
};
*/
(function() { // DON'T EDIT BELOW THIS LINE
    var d = document, s = d.createElement('script');
    s.src = '//glinet.disqus.com/embed.js';
    s.setAttribute('data-timestamp', +new Date());
    (d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript></div>
            
        </div>

        <footer class="col-md-12">
            <hr>
            
                <p><a href='https://www.gl-inet.com/'> GL Technologies</a> 2019</p>
            
        </footer>

        <script src="../../../js/jquery-1.10.2.min.js"></script>
        <script src="../../../js/bootstrap-3.0.3.min.js"></script>
        <script src="../../../js/highlight.pack.js"></script>
        <script>var base_url = '../../..';</script>
        <script data-main="../../../mkdocs/js/search.js" src="../../../mkdocs/js/require.js"></script>
        <script src="../../../js/base.js"></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="Search Modal" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                        <h4 class="modal-title" id="exampleModalLabel">Search</h4>
                    </div>
                    <div class="modal-body">
                        <p>
                            From here you can search these documents. Enter
                            your search terms below.
                        </p>
                        <form role="form">
                            <div class="form-group">
                                <input type="text" class="form-control" placeholder="Search..." id="mkdocs-search-query">
                            </div>
                        </form>
                        <div id="mkdocs-search-results"></div>
                    </div>
                    <div class="modal-footer">
                    </div>
                </div>
            </div>
        </div>

    </body>
</html>
