{"config":{"indexing":"full","lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"","title":"Home"},{"location":"tutorials/","text":"Tutorials \u00b6 Learn how to use our devices and add-on features with our step to step guides and answers to frequently asked questions. BLE Proxy \u00b6 GL-S10 GL-S20 Bluetooth Thread Border Router \u00b6 Thread Mesh GL-S200 GL.iNet OpenThread Border Router Codelabs IoT Dev Board \u00b6 Thread Dev Board GL-M2 5G Development Board MQTT & VPN \u00b6 MQTT & VPN demo","title":"Overview"},{"location":"tutorials/#tutorials","text":"Learn how to use our devices and add-on features with our step to step guides and answers to frequently asked questions.","title":"Tutorials"},{"location":"tutorials/#ble-proxy","text":"GL-S10 GL-S20 Bluetooth","title":"BLE Proxy"},{"location":"tutorials/#thread-border-router","text":"Thread Mesh GL-S200 GL.iNet OpenThread Border Router Codelabs","title":"Thread Border Router"},{"location":"tutorials/#iot-dev-board","text":"Thread Dev Board GL-M2 5G Development Board","title":"IoT Dev Board"},{"location":"tutorials/#mqtt-vpn","text":"MQTT & VPN demo","title":"MQTT &amp; VPN"},{"location":"tutorials/bluetooth/","text":"Bluetooth \u00b6 Bluetooth Devices \u00b6 On the Bluetooth devices page you can turn the current Bluetooth function on/off and modify the Bluetooth scanning settings. Scan Settings \u00b6 Scan type : switching between active or passive scanning. Scan Interval Time : the interval between the start times of two consecutive scan windows. Scan Window Time : the width of time to perform a scan. PHY : Physical Layer modulation method, currently only supports 1M. Click on Apply to complete the setup of Bluetooth scanning. Broadcast Packets \u00b6 After setting the Bluetooth scan settings correctly, click the Refresh button to see the Bluetooth broadcast data collected within one second. RSSI : the wireless signal strength of this broadcast packet. Device Name : the data segment of this broadcast packet with an AD Type of 0x09, or Unknow if it does not exist. MAC : the MAC address of the source of this broadcast. Packet Type : divided into ordinary packet and scan reply packet, only scan reply packet can be scanned in active scan mode, passive scan mode can only scan ordinary packet. Note that the s200 can only be made to scan under active scan if the broadcast device comes with a scan reply packet. Raw Data : the original data of this broadcast packet. If you need to see the details of a broadcast packet, please click on it. We provide two ways of presenting the data. Structured data presentation : parsing the broadcast packet data according to the AD structure defined by the Bluetooth Alliance, splitting and parsing the data of the individual AD segments. Raw data presentation : parsing of broadcast packet data according to the AD structure defined by the Bluetooth Alliance, splitting but not parsing out the raw data of individual AD segments. Bluetooth Remote Manage \u00b6 On the Bluetooth Remote Management page you can choose to turn remote management on/off and modify the relevant remote server configuration. We provide two methods of communication to the server: MQTT and HTTP. MQTT \u00b6 Host \uff1aserver address, either a domain name or an IP address\uff1b Port \uff1aserver port\uff1b Enable TLS \uff1awhether to enable TLS configuration; Username \uff1athe MQTT client username; Password \uff1athe MQTT client password\uff1b Topic Report : the gateway will use this topic to push the scanned Bluetooth data to the MQTT Broker.; Command : the gateway will subscribe to the topic to receive control commands issued by the remote server; Response : the gateway will use the topic to send the command's response or execution result in response to the remote server. If you need to enable TLS configuration, please click on the Enable TLS button and proceed to configure your TLS parameters. Encryption Mode \uff1aEncryption mode with the server side, either one-way or two-way encryption\uff1b CA Certificate \uff1aa CA root certificate file must be uploaded when TLS encryption is enabled\uff1b You can copy the contents of the relevant certificate directly into the input box or click the Upload button to upload a file from your device. Client Cerificate \uff1aa client certificate file must be uploaded when TLS bidirectional encryption is enabled\uff1b You can copy the contents of the relevant certificate directly into the input box or click the Upload button to upload a file from your device. Client Private Key \uff1aa client key file must be uploaded when TLS bidirectional encryption is enabled\uff1b You can copy the contents of the relevant certificate directly into the input box or click the Upload button to upload a file from your device. Password of Key \uff1aoptional setting, password for encryption the client private key. If you also need to set up more advanced MQTT options, you can click on Advance Settings . Client ID \uff1athe client ID used by the gateway to connect to the server\uff1b QoS Level \uff1aQoS level of all topics, default is 0\uff1b Keep Alive Interval \uff1athe heartbeat interval when the gateway connects to the server, default is 60 seconds. HTTP \u00b6 Report Url \uff1alink to data reporting Authentication Type \uff1aset the authentication method for http, currently choose between None or Basic authentication. If Basic is selected, the following configuration needs to be entered according to the server settings. Username : the HTTP authentication username Password : the HTTP authentication password Bluetooth Report \u00b6 On the Bluetooth report page, there are three tabs, Base, MAC Filter and Raw Data Filter, where you can set up the reporting parameters and data filtering functions. Base \u00b6 Report Interval \uff1athe interval in seconds for the gateway to report data to the server\uff1b Data Format \uff1athe data format reported by the gateway to the server, currently only Json format is supported\uff1b Enable Broadcast Data Report \uff1aif the option is enabled, each reported data will include complete broadcast packet data; otherwise, each reported data will only include the device MAC address and RSSI; RSSI Threshold \uff1aif you set the threshold, the gateway will only report data from devices whose signal strength is greater than the value. MAC Filters \u00b6 Filtering of report data based on the broadcast source MAC address. We support the following MAC address completion rules: Case insensitive; Several MAC addresses distinguished by line feeds; Single MAC addresses support splitting by the character ':' and the character ' - ' ; Support for regular expressions with * , currently requires a minimum of the first 8 bits (4 bytes) to be specified. Note : When there is a non-compliant writeup, it will be red-flagged to indicate that the user needs to make changes. Raw Data Filters \u00b6 Broadcast packets with set filter items in the data are filtered according to AD Type according to the broadcast format defined by the Bluetooth Alliance. When In Any is selected, the gateway will match the entire broadcast packet data as the content; The AD data format is currently only supported in Hex; AD data supports the input of regular expressions . Bluetooth Settings Backup/Restore \u00b6 Backup \u00b6 You can export all Bluetooth-related settings on the page, including scan, connection, remote manage, report, data definition. If you would like to export the SSL certificate associated with the server connection configured on the device, please tick the \" Include SSL certificate \" option. Restore \u00b6 You can import a Bluetooth configuration that you have previously backed up or exported from another machine on the Bluetooth configuration restore page. Still have questions? Visit our Community Forum .","title":"Bluetooth"},{"location":"tutorials/bluetooth/#bluetooth","text":"","title":"Bluetooth"},{"location":"tutorials/bluetooth/#bluetooth-devices","text":"On the Bluetooth devices page you can turn the current Bluetooth function on/off and modify the Bluetooth scanning settings.","title":"Bluetooth Devices"},{"location":"tutorials/bluetooth/#scan-settings","text":"Scan type : switching between active or passive scanning. Scan Interval Time : the interval between the start times of two consecutive scan windows. Scan Window Time : the width of time to perform a scan. PHY : Physical Layer modulation method, currently only supports 1M. Click on Apply to complete the setup of Bluetooth scanning.","title":"Scan Settings"},{"location":"tutorials/bluetooth/#broadcast-packets","text":"After setting the Bluetooth scan settings correctly, click the Refresh button to see the Bluetooth broadcast data collected within one second. RSSI : the wireless signal strength of this broadcast packet. Device Name : the data segment of this broadcast packet with an AD Type of 0x09, or Unknow if it does not exist. MAC : the MAC address of the source of this broadcast. Packet Type : divided into ordinary packet and scan reply packet, only scan reply packet can be scanned in active scan mode, passive scan mode can only scan ordinary packet. Note that the s200 can only be made to scan under active scan if the broadcast device comes with a scan reply packet. Raw Data : the original data of this broadcast packet. If you need to see the details of a broadcast packet, please click on it. We provide two ways of presenting the data. Structured data presentation : parsing the broadcast packet data according to the AD structure defined by the Bluetooth Alliance, splitting and parsing the data of the individual AD segments. Raw data presentation : parsing of broadcast packet data according to the AD structure defined by the Bluetooth Alliance, splitting but not parsing out the raw data of individual AD segments.","title":"Broadcast Packets"},{"location":"tutorials/bluetooth/#bluetooth-remote-manage","text":"On the Bluetooth Remote Management page you can choose to turn remote management on/off and modify the relevant remote server configuration. We provide two methods of communication to the server: MQTT and HTTP.","title":"Bluetooth Remote Manage"},{"location":"tutorials/bluetooth/#mqtt","text":"Host \uff1aserver address, either a domain name or an IP address\uff1b Port \uff1aserver port\uff1b Enable TLS \uff1awhether to enable TLS configuration; Username \uff1athe MQTT client username; Password \uff1athe MQTT client password\uff1b Topic Report : the gateway will use this topic to push the scanned Bluetooth data to the MQTT Broker.; Command : the gateway will subscribe to the topic to receive control commands issued by the remote server; Response : the gateway will use the topic to send the command's response or execution result in response to the remote server. If you need to enable TLS configuration, please click on the Enable TLS button and proceed to configure your TLS parameters. Encryption Mode \uff1aEncryption mode with the server side, either one-way or two-way encryption\uff1b CA Certificate \uff1aa CA root certificate file must be uploaded when TLS encryption is enabled\uff1b You can copy the contents of the relevant certificate directly into the input box or click the Upload button to upload a file from your device. Client Cerificate \uff1aa client certificate file must be uploaded when TLS bidirectional encryption is enabled\uff1b You can copy the contents of the relevant certificate directly into the input box or click the Upload button to upload a file from your device. Client Private Key \uff1aa client key file must be uploaded when TLS bidirectional encryption is enabled\uff1b You can copy the contents of the relevant certificate directly into the input box or click the Upload button to upload a file from your device. Password of Key \uff1aoptional setting, password for encryption the client private key. If you also need to set up more advanced MQTT options, you can click on Advance Settings . Client ID \uff1athe client ID used by the gateway to connect to the server\uff1b QoS Level \uff1aQoS level of all topics, default is 0\uff1b Keep Alive Interval \uff1athe heartbeat interval when the gateway connects to the server, default is 60 seconds.","title":"MQTT"},{"location":"tutorials/bluetooth/#http","text":"Report Url \uff1alink to data reporting Authentication Type \uff1aset the authentication method for http, currently choose between None or Basic authentication. If Basic is selected, the following configuration needs to be entered according to the server settings. Username : the HTTP authentication username Password : the HTTP authentication password","title":"HTTP"},{"location":"tutorials/bluetooth/#bluetooth-report","text":"On the Bluetooth report page, there are three tabs, Base, MAC Filter and Raw Data Filter, where you can set up the reporting parameters and data filtering functions.","title":"Bluetooth Report"},{"location":"tutorials/bluetooth/#base","text":"Report Interval \uff1athe interval in seconds for the gateway to report data to the server\uff1b Data Format \uff1athe data format reported by the gateway to the server, currently only Json format is supported\uff1b Enable Broadcast Data Report \uff1aif the option is enabled, each reported data will include complete broadcast packet data; otherwise, each reported data will only include the device MAC address and RSSI; RSSI Threshold \uff1aif you set the threshold, the gateway will only report data from devices whose signal strength is greater than the value.","title":"Base"},{"location":"tutorials/bluetooth/#mac-filters","text":"Filtering of report data based on the broadcast source MAC address. We support the following MAC address completion rules: Case insensitive; Several MAC addresses distinguished by line feeds; Single MAC addresses support splitting by the character ':' and the character ' - ' ; Support for regular expressions with * , currently requires a minimum of the first 8 bits (4 bytes) to be specified. Note : When there is a non-compliant writeup, it will be red-flagged to indicate that the user needs to make changes.","title":"MAC Filters"},{"location":"tutorials/bluetooth/#raw-data-filters","text":"Broadcast packets with set filter items in the data are filtered according to AD Type according to the broadcast format defined by the Bluetooth Alliance. When In Any is selected, the gateway will match the entire broadcast packet data as the content; The AD data format is currently only supported in Hex; AD data supports the input of regular expressions .","title":"Raw Data Filters"},{"location":"tutorials/bluetooth/#bluetooth-settings-backuprestore","text":"","title":"Bluetooth Settings Backup/Restore"},{"location":"tutorials/bluetooth/#backup","text":"You can export all Bluetooth-related settings on the page, including scan, connection, remote manage, report, data definition. If you would like to export the SSL certificate associated with the server connection configured on the device, please tick the \" Include SSL certificate \" option.","title":"Backup"},{"location":"tutorials/bluetooth/#restore","text":"You can import a Bluetooth configuration that you have previously backed up or exported from another machine on the Bluetooth configuration restore page. Still have questions? Visit our Community Forum .","title":"Restore"},{"location":"tutorials/mqtt_and_vpn_demo/","text":"Coming soon","title":"MQTT & VPN Demo"},{"location":"tutorials/openthread_border_router_codelabs/","text":"GL.iNet OpenThread Border Router Codelabs \u00b6 Application Scenario \u00b6 GL.iNet OTBR is factory-configured with Scenario 1 by default. Users need to configure the upstream interface for the backbone router according to their own application scenarios on the web Admin Panel -> THREAD MESH -> Advanced -> Backbone Routers. Direct Connection. \u00b6 Scenario 1: PC/mobile phone connects OTBR directly. Indirect Connection \u00b6 Scenario 2: PC/mobile phone and OTBR connect to the same upstream WiFi AP. Bi-directional IPv6 connectivity and DNS-based service discovery. \u00b6 This experiment uses the following topology diagram Ubuntu 20.04.4 NRF52840 USB dongle\uff08 ot-nrf52840 - 2023-02-15-d88076e \uff09 ot-br-posix - 2022-11-08-d910392 Step 1: Create a Thread network. \u00b6 root@GL-S200:~# uci set otbr.otbr.enable=1 root@GL-S200:~# uci commit otbr root@GL-S200:~# ot-ctl dataset init new Done root@GL-S200:~# ot-ctl dataset commit active Done root@GL-S200:~# ot-ctl dataset active Active Timestamp: 1 Channel: 18 Channel Mask: 0x07fff800 Ext PAN ID: a1fce8946f2f9b1d Mesh Local Prefix: fd50:5ff6:fd1b:325b::/64 Network Key: e67446d4e450ad76cd3ad5472530d410 Network Name: OpenThread-ee97 PAN ID: 0xee97 PSKc: 42743e8b67c06353cd038520a0ab8b7f Security Policy: 672 onrc Done root@GL-S200:~# ot-ctl ifconfig up Done root@GL-S200:~# ot-ctl thread start Done root@GL-S200:~# ot-ctl state leader Done root@GL-S200:~# ot-ctl dataset active -x 0e080000000000010000000300001235060004001fffe00208a1fce8946f2f9b1d0708fd505ff6fd1b325b0510e67446d4e450ad76cd3ad5472530d410030f4f70656e5468726561642d656539370102ee97041042743e8b67c06353cd038520a0ab8b7f0c0402a0f7f8 Done root@GL-S200:~# ot-ctl netdata show Prefixes: fd15:5b2d:647f:1::/64 paos low c400 Routes: fd15:5b2d:647f:2:0:0::/96 sn low c400 fda1:fce8:946f:9b1d::/64 s med c400 Services: 44970 5d fd505ff6fd1b325b84ab8a51482f2df7d11f s c400 44970 01 31000500000e10 s c400 Done root@GL-S200:~# ot-ctl ipaddr fd50:5ff6:fd1b:325b:0:ff:fe00:fc11 fd50:5ff6:fd1b:325b:0:ff:fe00:fc38 fd15:5b2d:647f:1:4e73:fe27:fcad:9eb4 fd50:5ff6:fd1b:325b:0:ff:fe00:fc10 fd50:5ff6:fd1b:325b:0:ff:fe00:fc00 fd50:5ff6:fd1b:325b:0:ff:fe00:c400 fd50:5ff6:fd1b:325b:84ab:8a51:482f:2df7 fe80:0:0:0:3488:80b2:ca62:867d Done Check the connectivity of OTBR on your phone/PC. $ ping -6 -c1 fd15:5b2d:647f:1:4e73:fe27:fcad:9eb4 PING fd15:5b2d:647f:1:4e73:fe27:fcad:9eb4(fd15:5b2d:647f:1:4e73:fe27:fcad:9eb4) 56 data bytes 64 bytes from fd15:5b2d:647f:1:4e73:fe27:fcad:9eb4: icmp_seq=1 ttl=64 time=0.996 ms --- fd15:5b2d:647f:1:4e73:fe27:fcad:9eb4 ping statistics --- 1 packets transmitted, 1 received, 0% packet loss, time 0ms rtt min/avg/max/mdev = 0.996/0.996/0.996/0.000 ms Step 2: Configure the SRP client terminal device. \u00b6 To be executed on NRF52840. > dataset set active 0e080000000000010000000300001235060004001fffe00208a1fce8946f2f9b1d0708fd505ff6fd1b325b0510e67446d4e450ad76cd3ad5472530d410030f4f70656e5468726561642d656539370102ee97041042743e8b67c06353cd038520a0ab8b7f0c0402a0f7f8 Done > ifconfig up Done > thread start Done > state child Done > netdata show Prefixes: fd15:5b2d:647f:1::/64 paos low fffe Routes: fd15:5b2d:647f:2:0:0::/96 sn low fffe fda1:fce8:946f:9b1d::/64 s med fffe Services: 44970 5d fd505ff6fd1b325b84ab8a51482f2df7d11f s fc10 44970 01 31000500000e10 s fc11 Done > ipaddr fd15:5b2d:647f:1:75cd:be97:fd26:f3b9 fd50:5ff6:fd1b:325b:0:ff:fe00:c401 fd50:5ff6:fd1b:325b:27af:b1fc:9225:4134 fe80:0:0:0:3873:7703:285d:38eb Done Check the Thread Device connectivity on the mobile phone/PC. $ ping -6 -c1 fd15:5b2d:647f:1:75cd:be97:fd26:f3b9 PING fd15:5b2d:647f:1:75cd:be97:fd26:f3b9(fd15:5b2d:647f:1:75cd:be97:fd26:f3b9) 56 data bytes 64 bytes from fd15:5b2d:647f:1:75cd:be97:fd26:f3b9: icmp_seq=1 ttl=63 time=41.1 ms --- fd15:5b2d:647f:1:75cd:be97:fd26:f3b9 ping statistics --- 1 packets transmitted, 1 received, 0% packet loss, time 0ms rtt min/avg/max/mdev = 41.148/41.148/41.148/0.000 ms Step 3: Publish SRP service on the terminal device. \u00b6 > srp client autostart enable Done > srp client host name ot-host Done > srp client host address fd15:5b2d:647f:1:75cd:be97:fd26:f3b9 Done > srp client service add ot-service _ipps._tcp 12345 Done > srp client service instance:\"ot-service\", name:\"_ipps._tcp\", state:Registered, port:12345, priority:0, weight:0 Done Step 4: Discover services on OTBR. \u00b6 root@GL-S200:~# ot-ctl srp server service ot-service._ipps._tcp.default.service.arpa. deleted: false subtypes: (null) port: 12345 priority: 0 weight: 0 ttl: 7200 lease: 7200 key-lease: 1209600 TXT: [] host: ot-host.default.service.arpa. addresses: [fd15:5b2d:647f:1:75cd:be97:fd26:f3b9] Done root@GL-S200:~# dns-sd -B _ipps._tcp Browsing for _ipps._tcp DATE: ---Wed 15 Mar 2023--- 8:41:10.598 ...STARTING... Timestamp A/R Flags if Domain Service Type Instance Name 8:41:10.600 Add 3 6 local. _ipps._tcp. ot-service 8:41:10.602 Add 2 7 local. _ipps._tcp. ot-service ^C root@GL-S200:~# dns-sd -L ot-service _ipps._tcp. Lookup ot-service._ipps._tcp..local DATE: ---Wed 15 Mar 2023--- 8:41:16.522 ...STARTING... 8:41:16.666 ot-service._ipps._tcp.local. can be reached at ot-host.local.:12345 (interface 6) Flags: 1 8:41:16.668 ot-service._ipps._tcp.local. can be reached at ot-host.local.:12345 (interface 7) ^C root@GL-S200:~# dns-sd -G -v6 ot-host.local. DATE: ---Wed 15 Mar 2023--- 8:41:21.478 ...STARTING... Timestamp A/R Flags if Hostname Address TTL 8:41:21.653 Add 3 6 ot-host.local. FD15:5B2D:647F:0001:75CD:BE97:FD26:F3B9%<0> 120 8:41:21.656 Add 2 7 ot-host.local. FD15:5B2D:647F:0001:75CD:BE97:FD26:F3B9%<0> 120 ^C root@GL-S200:~# ping -6 -c1 fd15:5b2d:647f:1:75cd:be97:fd26:f3b9 PING fd15:5b2d:647f:1:75cd:be97:fd26:f3b9 (fd15:5b2d:647f:1:75cd:be97:fd26:f3b9): 56 data bytes 64 bytes from fd15:5b2d:647f:1:75cd:be97:fd26:f3b9: seq=0 ttl=64 time=33.375 ms --- fd15:5b2d:647f:1:75cd:be97:fd26:f3b9 ping statistics --- 1 packets transmitted, 1 packets received, 0% packet loss round-trip min/avg/max = 33.375/33.375/33.375 ms Step 5: Discover services on PC. \u00b6 Use dns-sd on macOS system. $ dns-sd -B _ipps._tcp Browsing for _ipps._tcp DATE: ---Wed 15 Mar 2023--- 16:42:03.955 ...STARTING... Timestamp A/R Flags if Domain Service Type Instance Name 16:42:03.958 Add 2 2 local. _ipps._tcp. ot-service $ dns-sd -L ot-service _ipps._tcp. Lookup ot-service._ipps._tcp..local DATE: ---Wed 15 Mar 2023--- 16:42:13.192 ...STARTING... 16:42:13.193 ot-service._ipps._tcp.local. can be reached at ot-host.local.:12345 (interface 2) $ dns-sd -G -v6 ot-host.local. DATE: ---Wed 15 Mar 2023--- 16:42:18.168 ...STARTING... Timestamp A/R Flags if Hostname Address TTL 16:42:18.169 Add 40000002 2 ot-host.local. FD15:5B2D:647F:0001:75CD:BE97:FD26:F3B9%<0> 120 Use avahi-browser on Linux system. $ avahi-browse -rt _ipps._tcp + ens33 IPv6 ot-service Secure Internet Printer local + ens33 IPv4 ot-service Secure Internet Printer local = ens33 IPv6 ot-service Secure Internet Printer local hostname = [ot-host.local] address = [fd15:5b2d:647f:1:75cd:be97:fd26:f3b9] port = [12345] txt = [] = ens33 IPv4 ot-service Secure Internet Printer local hostname = [ot-host.local] address = [fd15:5b2d:647f:1:75cd:be97:fd26:f3b9] port = [12345] txt = [] Step 6: Ping the terminal device's local domain name on PC. \u00b6 $ ping -6 -c1 ot-host.local PING ot-host.local(fd15:5b2d:647f:1:75cd:be97:fd26:f3b9 (fd15:5b2d:647f:1:75cd:be97:fd26:f3b9)) 56 data bytes 64 bytes from fd15:5b2d:647f:1:75cd:be97:fd26:f3b9 (fd15:5b2d:647f:1:75cd:be97:fd26:f3b9): icmp_seq=1 ttl=63 time=30.4 ms --- ot-host.local ping statistics --- 1 packets transmitted, 1 received, 0% packet loss, time 0ms rtt min/avg/max/mdev = 30.360/30.360/30.360/0.000 ms If the ping command returns Name or service not known , modify /etc/nsswitch.conf as follows and try again. The domain name should be resolvable on both OTBR and PC. hosts: files mdns4_minimal mdns6_minimal dns Providing Internet access via NAT64. \u00b6 Nat64 is enabled by default. After creating a Thread network and joining Thread devices to the network according to the instructions for the experiment on bi-directional IPv6 connectivity and DNS-based service discovery, Accessing Local Area Network. > ping 192.168.8.233 Pinging synthesized IPv6 address: fdf8:7dfb:4d50:2:0:0:c0a8:8e9 16 bytes from fdf8:7dfb:4d50:2:0:0:c0a8:8e9: icmp_seq=3 hlim=63 time=15ms 1 packets transmitted, 1 packets received. Packet loss = 0.0%. Round-trip min/avg/max = 15/15.0/15 ms. Done Accessing the Internet. > ping 8.8.8.8 Pinging synthesized IPv6 address: fdf8:7dfb:4d50:2:0:0:808:808 16 bytes from fdf8:7dfb:4d50:2:0:0:808:808: icmp_seq=4 hlim=47 time=75ms 1 packets transmitted, 1 packets received. Packet loss = 0.0%. Round-trip min/avg/max = 75/75.0/75 ms. Done > dns resolve4 google.com 8.8.8.8 Synthesized IPv6 DNS server address: fdf8:7dfb:4d50:2:0:0:808:808 DNS response for google.com. - fdf8:7dfb:4d50:2:0:0:8efb:dc4e TTL:127 Done > ping fdf8:7dfb:4d50:2:0:0:8efb:dc4e 16 bytes from fdf8:7dfb:4d50:2:0:0:8efb:dc4e: icmp_seq=5 hlim=106 time=96ms 1 packets transmitted, 1 packets received. Packet loss = 0.0%. Round-trip min/avg/max = 96/96.0/96 ms. Done Matter Over Thread \u00b6 The topology of this experiment is shown in the following diagram, where the Matter Controller runs on a PC, and the Matter Light and Matter Light Switch both use the Silicon Labs EFR32MG24 Breakout Board REV 1.1 as the Matter device. Step 1: Create a Thread network. \u00b6 root@GL-S200:~# ot-ctl dataset init new Done root@GL-S200:~# ot-ctl dataset commit active Done root@GL-S200:~# ot-ctl dataset active Active Timestamp: 1 Channel: 18 Channel Mask: 0x07fff800 Ext PAN ID: a1fce8946f2f9b1d Mesh Local Prefix: fd50:5ff6:fd1b:325b::/64 Network Key: e67446d4e450ad76cd3ad5472530d410 Network Name: OpenThread-ee97 PAN ID: 0xee97 PSKc: 42743e8b67c06353cd038520a0ab8b7f Security Policy: 672 onrc Done root@GL-S200:~# ot-ctl ifconfig up Done root@GL-S200:~# ot-ctl thread start Done root@GL-S200:~# ot-ctl state leader Done root@GL-S200:~# ot-ctl dataset active -x 0e080000000000010000000300001235060004001fffe00208a1fce8946f2f9b1d0708fd505ff6fd1b325b0510e67446d4e450ad76cd3ad5472530d410030f4f70656e5468726561642d656539370102ee97041042743e8b67c06353cd038520a0ab8b7f0c0402a0f7f8 Done root@GL-S200:~# ot-ctl netdata show Prefixes: fd15:5b2d:647f:1::/64 paos low c400 Routes: fd15:5b2d:647f:2:0:0::/96 sn low c400 fda1:fce8:946f:9b1d::/64 s med c400 Services: 44970 5d fd505ff6fd1b325b84ab8a51482f2df7d11f s c400 44970 01 31000500000e10 s c400 Done root@GL-S200:~# ot-ctl ipaddr fd50:5ff6:fd1b:325b:0:ff:fe00:fc11 fd50:5ff6:fd1b:325b:0:ff:fe00:fc38 fd15:5b2d:647f:1:4e73:fe27:fcad:9eb4 fd50:5ff6:fd1b:325b:0:ff:fe00:fc10 fd50:5ff6:fd1b:325b:0:ff:fe00:fc00 fd50:5ff6:fd1b:325b:0:ff:fe00:c400 fd50:5ff6:fd1b:325b:84ab:8a51:482f:2df7 fe80:0:0:0:3488:80b2:ca62:867d Done Step 2: Commissioning \u00b6 Command format: chip-tool pairing ble-thread ${NODE_ID} hex:${DATASET} ${PIN_CODE} ${DISCRIMINATOR} ${NODE_ID} \uff1aAssign an ID to the commissioned device. It can be any non-zero value that has not been used after RCP initialization, and it is used by the chip-tool to operate on this Matter device. ${DATASET} \uff1a Obtained by running the command ot-ctl dataset active -x ${PIN_CODE} \uff1aIf the pairing code has not been configured in the flash memory, use the default pairing code. ${DISCRIMINATOR} \uff1aIf pairing code is not configured in flash yet, use the default pairing code. When you long-press the BT0 button on the Matter Light for more than 6 seconds, it enters commissioning mode. sudo ./out/chip-tool/chip-tool pairing ble-thread 1001 hex:0e080000000000010000000300001235060004001fffe00208a1fce8946f2f9b1d0708fd505ff6fd1b325b0510e67446d4e450ad76cd3ad5472530d410030f4f70656e5468726561642d656539370102ee97041042743e8b67c06353cd038520a0ab8b7f0c0402a0f7f8 20202021 3840 Press and hold the BT0 button of the Matter Light Switch for more than 6 seconds to enter commissioning mode. sudo ./out/chip-tool/chip-tool pairing ble-thread 1002 hex:0e080000000000010000000300001235060004001fffe00208a1fce8946f2f9b1d0708fd505ff6fd1b325b0510e67446d4e450ad76cd3ad5472530d410030f4f70656e5468726561642d656539370102ee97041042743e8b67c06353cd038520a0ab8b7f0c0402a0f7f8 20202021 3840 If there is no error, the output of the command should look like the following: [1678871136.912386][3259774:3259774] CHIP:DL: Inet Layer shutdown [1678871136.912404][3259774:3259774] CHIP:DL: BLE shutdown [1678871136.913326][3259774:3259774] CHIP:DL: System Layer shutdown Discovery Matter device from PC, $ avahi-browse -rt _matter._tcp + enp0s31f6 IPv6 65D508548AF4E6CD-00000000000003EA _matter._tcp local + enp0s31f6 IPv6 65D508548AF4E6CD-00000000000003E9 _matter._tcp local + enp0s31f6 IPv4 65D508548AF4E6CD-00000000000003EA _matter._tcp local + enp0s31f6 IPv4 65D508548AF4E6CD-00000000000003E9 _matter._tcp local = enp0s31f6 IPv6 65D508548AF4E6CD-00000000000003EA _matter._tcp local hostname = [DEE6259B059B0BB6.local] address = [fd15:5b2d:647f:1:25b3:9abe:d387:e9aa] port = [5540] txt = [\"T=0\" \"SAI=2000\" \"SII=5000\"] = enp0s31f6 IPv6 65D508548AF4E6CD-00000000000003E9 _matter._tcp local hostname = [3EF840EF1D01024D.local] address = [fd15:5b2d:647f:1:b5be:90a6:6fde:a8dc] port = [5540] txt = [\"T=0\" \"SAI=2000\" \"SII=5000\"] = enp0s31f6 IPv4 65D508548AF4E6CD-00000000000003EA _matter._tcp local hostname = [DEE6259B059B0BB6.local] address = [fd15:5b2d:647f:1:25b3:9abe:d387:e9aa] port = [5540] txt = [\"T=0\" \"SAI=2000\" \"SII=5000\"] = enp0s31f6 IPv4 65D508548AF4E6CD-00000000000003E9 _matter._tcp local hostname = [3EF840EF1D01024D.local] address = [fd15:5b2d:647f:1:b5be:90a6:6fde:a8dc] port = [5540] txt = [\"T=0\" \"SAI=2000\" \"SII=5000\"] $ avahi-browse -rt _matterc._udp + enp0s31f6 IPv6 18D347F0BB27870E _matterc._udp local + enp0s31f6 IPv4 18D347F0BB27870E _matterc._udp local = enp0s31f6 IPv6 18D347F0BB27870E _matterc._udp local hostname = [DEE6259B059B0BB6.local] address = [fd15:5b2d:647f:1:25b3:9abe:d387:e9aa] port = [5540] txt = [\"PI=\" \"PH=36\" \"CM=0\" \"D=3840\" \"T=0\" \"SAI=2000\" \"SII=5000\" \"VP=65521+32772\"] = enp0s31f6 IPv4 18D347F0BB27870E _matterc._udp local hostname = [DEE6259B059B0BB6.local] address = [fd15:5b2d:647f:1:25b3:9abe:d387:e9aa] port = [5540] txt = [\"PI=\" \"PH=36\" \"CM=0\" \"D=3840\" \"T=0\" \"SAI=2000\" \"SII=5000\" \"VP=65521+32772\"] $ ping -6 -c1 3EF840EF1D01024D.local PING 3EF840EF1D01024D.local(fd15:5b2d:647f:1:b5be:90a6:6fde:a8dc (fd15:5b2d:647f:1:b5be:90a6:6fde:a8dc)) 56 data bytes 64 bytes from fd15:5b2d:647f:1:b5be:90a6:6fde:a8dc (fd15:5b2d:647f:1:b5be:90a6:6fde:a8dc): icmp_seq=1 ttl=63 time=82.9 ms --- 3EF840EF1D01024D.local ping statistics --- 1 packets transmitted, 1 received, 0% packet loss, time 0ms rtt min/avg/max/mdev = 82.865/82.865/82.865/0.000 ms $ ping -6 -c1 DEE6259B059B0BB6.local PING DEE6259B059B0BB6.local(fd15:5b2d:647f:1:25b3:9abe:d387:e9aa (fd15:5b2d:647f:1:25b3:9abe:d387:e9aa)) 56 data bytes 64 bytes from fd15:5b2d:647f:1:25b3:9abe:d387:e9aa (fd15:5b2d:647f:1:25b3:9abe:d387:e9aa): icmp_seq=1 ttl=63 time=69.3 ms --- DEE6259B059B0BB6.local ping statistics --- 1 packets transmitted, 1 received, 0% packet loss, time 0ms rtt min/avg/max/mdev = 69.331/69.331/69.331/0.000 ms Step 3: Control the Light \u00b6 Toggle the Light Command Format : chip-tool onoff toggle ${NODE_ID} 1 Example\uff1a sudo ./out/chip-tool/chip-tool onoff toggle 1001 1 Turn On the Light Command Format : chip-tool onoff on ${NODE_ID} 1 Example\uff1a sudo ./out/chip-tool/chip-tool onoff on 1001 1 Turn Off the Light Command Format : chip-tool onoff off ${NODE_ID} 1 Example\uff1a sudo ./out/chip-tool/chip-tool onoff off 1001 1 Read the State of the Light Command Format : chip-tool onoff read on-off ${NODE_ID} 1 Example\uff1a sudo ./out/chip-tool/chip-tool onoff read on-off 1001 1 Step 4: Use the Matter Switch to Control the Light \u00b6 Set the ACL of the Light to Allow the Switch to Control It For ACL parameter explanation, please refer to Matter Core Specification - 9.10.5.3. ACL Attribute Command Format : sudo ./out/chip-tool/chip-tool accesscontrol write acl '[{\"fabricIndex\":1, \"privilege\":5, \"authMode\":2, \"subjects\":[112233, ${switch_node_id}], \"targets\":null}]' ${lighting_node_id} 0 Example\uff1a sudo ./out/chip-tool/chip-tool accesscontrol write acl '[{\"fabricIndex\":1, \"privilege\":5, \"authMode\":2, \"subjects\":[112233, 1002], \"targets\":null}]' 1001 0 Bind the Switch to the Light Command Format : sudo ./out/chip-tool/chip-tool binding write binding '[{\"fabricIndex\":1, \"node\":${lighting_node_id}, \"endpoint\":1, \"cluster\":6}]' ${switch_node_id} 1 Example\uff1a sudo ./out/chip-tool/chip-tool binding write binding '[{\"fabricIndex\":1, \"node\":1001, \"endpoint\":1, \"cluster\":6}]' 1002 1 After completing the above steps, you can use Matter Switch BTN1 to control the on/off state of Matter Light. Connect to Home Assistant \u00b6 Test environment Raspberrypi 4B Debian GNU/Linux 11 (bullseye) In progress \u2026 Still have questions? Visit our Community Forum .","title":"GL.iNet OpenThread Border Router Codelabs"},{"location":"tutorials/openthread_border_router_codelabs/#glinet-openthread-border-router-codelabs","text":"","title":"GL.iNet OpenThread Border Router Codelabs"},{"location":"tutorials/openthread_border_router_codelabs/#application-scenario","text":"GL.iNet OTBR is factory-configured with Scenario 1 by default. Users need to configure the upstream interface for the backbone router according to their own application scenarios on the web Admin Panel -> THREAD MESH -> Advanced -> Backbone Routers.","title":"Application Scenario"},{"location":"tutorials/openthread_border_router_codelabs/#direct-connection","text":"Scenario 1: PC/mobile phone connects OTBR directly.","title":"Direct Connection."},{"location":"tutorials/openthread_border_router_codelabs/#indirect-connection","text":"Scenario 2: PC/mobile phone and OTBR connect to the same upstream WiFi AP.","title":"Indirect Connection"},{"location":"tutorials/openthread_border_router_codelabs/#bi-directional-ipv6-connectivity-and-dns-based-service-discovery","text":"This experiment uses the following topology diagram Ubuntu 20.04.4 NRF52840 USB dongle\uff08 ot-nrf52840 - 2023-02-15-d88076e \uff09 ot-br-posix - 2022-11-08-d910392","title":"Bi-directional IPv6 connectivity and DNS-based service discovery."},{"location":"tutorials/openthread_border_router_codelabs/#step-1-create-a-thread-network","text":"root@GL-S200:~# uci set otbr.otbr.enable=1 root@GL-S200:~# uci commit otbr root@GL-S200:~# ot-ctl dataset init new Done root@GL-S200:~# ot-ctl dataset commit active Done root@GL-S200:~# ot-ctl dataset active Active Timestamp: 1 Channel: 18 Channel Mask: 0x07fff800 Ext PAN ID: a1fce8946f2f9b1d Mesh Local Prefix: fd50:5ff6:fd1b:325b::/64 Network Key: e67446d4e450ad76cd3ad5472530d410 Network Name: OpenThread-ee97 PAN ID: 0xee97 PSKc: 42743e8b67c06353cd038520a0ab8b7f Security Policy: 672 onrc Done root@GL-S200:~# ot-ctl ifconfig up Done root@GL-S200:~# ot-ctl thread start Done root@GL-S200:~# ot-ctl state leader Done root@GL-S200:~# ot-ctl dataset active -x 0e080000000000010000000300001235060004001fffe00208a1fce8946f2f9b1d0708fd505ff6fd1b325b0510e67446d4e450ad76cd3ad5472530d410030f4f70656e5468726561642d656539370102ee97041042743e8b67c06353cd038520a0ab8b7f0c0402a0f7f8 Done root@GL-S200:~# ot-ctl netdata show Prefixes: fd15:5b2d:647f:1::/64 paos low c400 Routes: fd15:5b2d:647f:2:0:0::/96 sn low c400 fda1:fce8:946f:9b1d::/64 s med c400 Services: 44970 5d fd505ff6fd1b325b84ab8a51482f2df7d11f s c400 44970 01 31000500000e10 s c400 Done root@GL-S200:~# ot-ctl ipaddr fd50:5ff6:fd1b:325b:0:ff:fe00:fc11 fd50:5ff6:fd1b:325b:0:ff:fe00:fc38 fd15:5b2d:647f:1:4e73:fe27:fcad:9eb4 fd50:5ff6:fd1b:325b:0:ff:fe00:fc10 fd50:5ff6:fd1b:325b:0:ff:fe00:fc00 fd50:5ff6:fd1b:325b:0:ff:fe00:c400 fd50:5ff6:fd1b:325b:84ab:8a51:482f:2df7 fe80:0:0:0:3488:80b2:ca62:867d Done Check the connectivity of OTBR on your phone/PC. $ ping -6 -c1 fd15:5b2d:647f:1:4e73:fe27:fcad:9eb4 PING fd15:5b2d:647f:1:4e73:fe27:fcad:9eb4(fd15:5b2d:647f:1:4e73:fe27:fcad:9eb4) 56 data bytes 64 bytes from fd15:5b2d:647f:1:4e73:fe27:fcad:9eb4: icmp_seq=1 ttl=64 time=0.996 ms --- fd15:5b2d:647f:1:4e73:fe27:fcad:9eb4 ping statistics --- 1 packets transmitted, 1 received, 0% packet loss, time 0ms rtt min/avg/max/mdev = 0.996/0.996/0.996/0.000 ms","title":"Step 1: Create a Thread network."},{"location":"tutorials/openthread_border_router_codelabs/#step-2-configure-the-srp-client-terminal-device","text":"To be executed on NRF52840. > dataset set active 0e080000000000010000000300001235060004001fffe00208a1fce8946f2f9b1d0708fd505ff6fd1b325b0510e67446d4e450ad76cd3ad5472530d410030f4f70656e5468726561642d656539370102ee97041042743e8b67c06353cd038520a0ab8b7f0c0402a0f7f8 Done > ifconfig up Done > thread start Done > state child Done > netdata show Prefixes: fd15:5b2d:647f:1::/64 paos low fffe Routes: fd15:5b2d:647f:2:0:0::/96 sn low fffe fda1:fce8:946f:9b1d::/64 s med fffe Services: 44970 5d fd505ff6fd1b325b84ab8a51482f2df7d11f s fc10 44970 01 31000500000e10 s fc11 Done > ipaddr fd15:5b2d:647f:1:75cd:be97:fd26:f3b9 fd50:5ff6:fd1b:325b:0:ff:fe00:c401 fd50:5ff6:fd1b:325b:27af:b1fc:9225:4134 fe80:0:0:0:3873:7703:285d:38eb Done Check the Thread Device connectivity on the mobile phone/PC. $ ping -6 -c1 fd15:5b2d:647f:1:75cd:be97:fd26:f3b9 PING fd15:5b2d:647f:1:75cd:be97:fd26:f3b9(fd15:5b2d:647f:1:75cd:be97:fd26:f3b9) 56 data bytes 64 bytes from fd15:5b2d:647f:1:75cd:be97:fd26:f3b9: icmp_seq=1 ttl=63 time=41.1 ms --- fd15:5b2d:647f:1:75cd:be97:fd26:f3b9 ping statistics --- 1 packets transmitted, 1 received, 0% packet loss, time 0ms rtt min/avg/max/mdev = 41.148/41.148/41.148/0.000 ms","title":"Step 2: Configure the SRP client terminal device."},{"location":"tutorials/openthread_border_router_codelabs/#step-3-publish-srp-service-on-the-terminal-device","text":"> srp client autostart enable Done > srp client host name ot-host Done > srp client host address fd15:5b2d:647f:1:75cd:be97:fd26:f3b9 Done > srp client service add ot-service _ipps._tcp 12345 Done > srp client service instance:\"ot-service\", name:\"_ipps._tcp\", state:Registered, port:12345, priority:0, weight:0 Done","title":"Step 3: Publish SRP service on the terminal device."},{"location":"tutorials/openthread_border_router_codelabs/#step-4-discover-services-on-otbr","text":"root@GL-S200:~# ot-ctl srp server service ot-service._ipps._tcp.default.service.arpa. deleted: false subtypes: (null) port: 12345 priority: 0 weight: 0 ttl: 7200 lease: 7200 key-lease: 1209600 TXT: [] host: ot-host.default.service.arpa. addresses: [fd15:5b2d:647f:1:75cd:be97:fd26:f3b9] Done root@GL-S200:~# dns-sd -B _ipps._tcp Browsing for _ipps._tcp DATE: ---Wed 15 Mar 2023--- 8:41:10.598 ...STARTING... Timestamp A/R Flags if Domain Service Type Instance Name 8:41:10.600 Add 3 6 local. _ipps._tcp. ot-service 8:41:10.602 Add 2 7 local. _ipps._tcp. ot-service ^C root@GL-S200:~# dns-sd -L ot-service _ipps._tcp. Lookup ot-service._ipps._tcp..local DATE: ---Wed 15 Mar 2023--- 8:41:16.522 ...STARTING... 8:41:16.666 ot-service._ipps._tcp.local. can be reached at ot-host.local.:12345 (interface 6) Flags: 1 8:41:16.668 ot-service._ipps._tcp.local. can be reached at ot-host.local.:12345 (interface 7) ^C root@GL-S200:~# dns-sd -G -v6 ot-host.local. DATE: ---Wed 15 Mar 2023--- 8:41:21.478 ...STARTING... Timestamp A/R Flags if Hostname Address TTL 8:41:21.653 Add 3 6 ot-host.local. FD15:5B2D:647F:0001:75CD:BE97:FD26:F3B9%<0> 120 8:41:21.656 Add 2 7 ot-host.local. FD15:5B2D:647F:0001:75CD:BE97:FD26:F3B9%<0> 120 ^C root@GL-S200:~# ping -6 -c1 fd15:5b2d:647f:1:75cd:be97:fd26:f3b9 PING fd15:5b2d:647f:1:75cd:be97:fd26:f3b9 (fd15:5b2d:647f:1:75cd:be97:fd26:f3b9): 56 data bytes 64 bytes from fd15:5b2d:647f:1:75cd:be97:fd26:f3b9: seq=0 ttl=64 time=33.375 ms --- fd15:5b2d:647f:1:75cd:be97:fd26:f3b9 ping statistics --- 1 packets transmitted, 1 packets received, 0% packet loss round-trip min/avg/max = 33.375/33.375/33.375 ms","title":"Step 4: Discover services on OTBR."},{"location":"tutorials/openthread_border_router_codelabs/#step-5-discover-services-on-pc","text":"Use dns-sd on macOS system. $ dns-sd -B _ipps._tcp Browsing for _ipps._tcp DATE: ---Wed 15 Mar 2023--- 16:42:03.955 ...STARTING... Timestamp A/R Flags if Domain Service Type Instance Name 16:42:03.958 Add 2 2 local. _ipps._tcp. ot-service $ dns-sd -L ot-service _ipps._tcp. Lookup ot-service._ipps._tcp..local DATE: ---Wed 15 Mar 2023--- 16:42:13.192 ...STARTING... 16:42:13.193 ot-service._ipps._tcp.local. can be reached at ot-host.local.:12345 (interface 2) $ dns-sd -G -v6 ot-host.local. DATE: ---Wed 15 Mar 2023--- 16:42:18.168 ...STARTING... Timestamp A/R Flags if Hostname Address TTL 16:42:18.169 Add 40000002 2 ot-host.local. FD15:5B2D:647F:0001:75CD:BE97:FD26:F3B9%<0> 120 Use avahi-browser on Linux system. $ avahi-browse -rt _ipps._tcp + ens33 IPv6 ot-service Secure Internet Printer local + ens33 IPv4 ot-service Secure Internet Printer local = ens33 IPv6 ot-service Secure Internet Printer local hostname = [ot-host.local] address = [fd15:5b2d:647f:1:75cd:be97:fd26:f3b9] port = [12345] txt = [] = ens33 IPv4 ot-service Secure Internet Printer local hostname = [ot-host.local] address = [fd15:5b2d:647f:1:75cd:be97:fd26:f3b9] port = [12345] txt = []","title":"Step 5: Discover services on PC."},{"location":"tutorials/openthread_border_router_codelabs/#step-6-ping-the-terminal-devices-local-domain-name-on-pc","text":"$ ping -6 -c1 ot-host.local PING ot-host.local(fd15:5b2d:647f:1:75cd:be97:fd26:f3b9 (fd15:5b2d:647f:1:75cd:be97:fd26:f3b9)) 56 data bytes 64 bytes from fd15:5b2d:647f:1:75cd:be97:fd26:f3b9 (fd15:5b2d:647f:1:75cd:be97:fd26:f3b9): icmp_seq=1 ttl=63 time=30.4 ms --- ot-host.local ping statistics --- 1 packets transmitted, 1 received, 0% packet loss, time 0ms rtt min/avg/max/mdev = 30.360/30.360/30.360/0.000 ms If the ping command returns Name or service not known , modify /etc/nsswitch.conf as follows and try again. The domain name should be resolvable on both OTBR and PC. hosts: files mdns4_minimal mdns6_minimal dns","title":"Step 6: Ping the terminal device's local domain name on PC."},{"location":"tutorials/openthread_border_router_codelabs/#providing-internet-access-via-nat64","text":"Nat64 is enabled by default. After creating a Thread network and joining Thread devices to the network according to the instructions for the experiment on bi-directional IPv6 connectivity and DNS-based service discovery, Accessing Local Area Network. > ping 192.168.8.233 Pinging synthesized IPv6 address: fdf8:7dfb:4d50:2:0:0:c0a8:8e9 16 bytes from fdf8:7dfb:4d50:2:0:0:c0a8:8e9: icmp_seq=3 hlim=63 time=15ms 1 packets transmitted, 1 packets received. Packet loss = 0.0%. Round-trip min/avg/max = 15/15.0/15 ms. Done Accessing the Internet. > ping 8.8.8.8 Pinging synthesized IPv6 address: fdf8:7dfb:4d50:2:0:0:808:808 16 bytes from fdf8:7dfb:4d50:2:0:0:808:808: icmp_seq=4 hlim=47 time=75ms 1 packets transmitted, 1 packets received. Packet loss = 0.0%. Round-trip min/avg/max = 75/75.0/75 ms. Done > dns resolve4 google.com 8.8.8.8 Synthesized IPv6 DNS server address: fdf8:7dfb:4d50:2:0:0:808:808 DNS response for google.com. - fdf8:7dfb:4d50:2:0:0:8efb:dc4e TTL:127 Done > ping fdf8:7dfb:4d50:2:0:0:8efb:dc4e 16 bytes from fdf8:7dfb:4d50:2:0:0:8efb:dc4e: icmp_seq=5 hlim=106 time=96ms 1 packets transmitted, 1 packets received. Packet loss = 0.0%. Round-trip min/avg/max = 96/96.0/96 ms. Done","title":"Providing Internet access via NAT64."},{"location":"tutorials/openthread_border_router_codelabs/#matter-over-thread","text":"The topology of this experiment is shown in the following diagram, where the Matter Controller runs on a PC, and the Matter Light and Matter Light Switch both use the Silicon Labs EFR32MG24 Breakout Board REV 1.1 as the Matter device.","title":"Matter Over Thread"},{"location":"tutorials/openthread_border_router_codelabs/#step-1-create-a-thread-network_1","text":"root@GL-S200:~# ot-ctl dataset init new Done root@GL-S200:~# ot-ctl dataset commit active Done root@GL-S200:~# ot-ctl dataset active Active Timestamp: 1 Channel: 18 Channel Mask: 0x07fff800 Ext PAN ID: a1fce8946f2f9b1d Mesh Local Prefix: fd50:5ff6:fd1b:325b::/64 Network Key: e67446d4e450ad76cd3ad5472530d410 Network Name: OpenThread-ee97 PAN ID: 0xee97 PSKc: 42743e8b67c06353cd038520a0ab8b7f Security Policy: 672 onrc Done root@GL-S200:~# ot-ctl ifconfig up Done root@GL-S200:~# ot-ctl thread start Done root@GL-S200:~# ot-ctl state leader Done root@GL-S200:~# ot-ctl dataset active -x 0e080000000000010000000300001235060004001fffe00208a1fce8946f2f9b1d0708fd505ff6fd1b325b0510e67446d4e450ad76cd3ad5472530d410030f4f70656e5468726561642d656539370102ee97041042743e8b67c06353cd038520a0ab8b7f0c0402a0f7f8 Done root@GL-S200:~# ot-ctl netdata show Prefixes: fd15:5b2d:647f:1::/64 paos low c400 Routes: fd15:5b2d:647f:2:0:0::/96 sn low c400 fda1:fce8:946f:9b1d::/64 s med c400 Services: 44970 5d fd505ff6fd1b325b84ab8a51482f2df7d11f s c400 44970 01 31000500000e10 s c400 Done root@GL-S200:~# ot-ctl ipaddr fd50:5ff6:fd1b:325b:0:ff:fe00:fc11 fd50:5ff6:fd1b:325b:0:ff:fe00:fc38 fd15:5b2d:647f:1:4e73:fe27:fcad:9eb4 fd50:5ff6:fd1b:325b:0:ff:fe00:fc10 fd50:5ff6:fd1b:325b:0:ff:fe00:fc00 fd50:5ff6:fd1b:325b:0:ff:fe00:c400 fd50:5ff6:fd1b:325b:84ab:8a51:482f:2df7 fe80:0:0:0:3488:80b2:ca62:867d Done","title":"Step 1: Create a Thread network."},{"location":"tutorials/openthread_border_router_codelabs/#step-2-commissioning","text":"Command format: chip-tool pairing ble-thread ${NODE_ID} hex:${DATASET} ${PIN_CODE} ${DISCRIMINATOR} ${NODE_ID} \uff1aAssign an ID to the commissioned device. It can be any non-zero value that has not been used after RCP initialization, and it is used by the chip-tool to operate on this Matter device. ${DATASET} \uff1a Obtained by running the command ot-ctl dataset active -x ${PIN_CODE} \uff1aIf the pairing code has not been configured in the flash memory, use the default pairing code. ${DISCRIMINATOR} \uff1aIf pairing code is not configured in flash yet, use the default pairing code. When you long-press the BT0 button on the Matter Light for more than 6 seconds, it enters commissioning mode. sudo ./out/chip-tool/chip-tool pairing ble-thread 1001 hex:0e080000000000010000000300001235060004001fffe00208a1fce8946f2f9b1d0708fd505ff6fd1b325b0510e67446d4e450ad76cd3ad5472530d410030f4f70656e5468726561642d656539370102ee97041042743e8b67c06353cd038520a0ab8b7f0c0402a0f7f8 20202021 3840 Press and hold the BT0 button of the Matter Light Switch for more than 6 seconds to enter commissioning mode. sudo ./out/chip-tool/chip-tool pairing ble-thread 1002 hex:0e080000000000010000000300001235060004001fffe00208a1fce8946f2f9b1d0708fd505ff6fd1b325b0510e67446d4e450ad76cd3ad5472530d410030f4f70656e5468726561642d656539370102ee97041042743e8b67c06353cd038520a0ab8b7f0c0402a0f7f8 20202021 3840 If there is no error, the output of the command should look like the following: [1678871136.912386][3259774:3259774] CHIP:DL: Inet Layer shutdown [1678871136.912404][3259774:3259774] CHIP:DL: BLE shutdown [1678871136.913326][3259774:3259774] CHIP:DL: System Layer shutdown Discovery Matter device from PC, $ avahi-browse -rt _matter._tcp + enp0s31f6 IPv6 65D508548AF4E6CD-00000000000003EA _matter._tcp local + enp0s31f6 IPv6 65D508548AF4E6CD-00000000000003E9 _matter._tcp local + enp0s31f6 IPv4 65D508548AF4E6CD-00000000000003EA _matter._tcp local + enp0s31f6 IPv4 65D508548AF4E6CD-00000000000003E9 _matter._tcp local = enp0s31f6 IPv6 65D508548AF4E6CD-00000000000003EA _matter._tcp local hostname = [DEE6259B059B0BB6.local] address = [fd15:5b2d:647f:1:25b3:9abe:d387:e9aa] port = [5540] txt = [\"T=0\" \"SAI=2000\" \"SII=5000\"] = enp0s31f6 IPv6 65D508548AF4E6CD-00000000000003E9 _matter._tcp local hostname = [3EF840EF1D01024D.local] address = [fd15:5b2d:647f:1:b5be:90a6:6fde:a8dc] port = [5540] txt = [\"T=0\" \"SAI=2000\" \"SII=5000\"] = enp0s31f6 IPv4 65D508548AF4E6CD-00000000000003EA _matter._tcp local hostname = [DEE6259B059B0BB6.local] address = [fd15:5b2d:647f:1:25b3:9abe:d387:e9aa] port = [5540] txt = [\"T=0\" \"SAI=2000\" \"SII=5000\"] = enp0s31f6 IPv4 65D508548AF4E6CD-00000000000003E9 _matter._tcp local hostname = [3EF840EF1D01024D.local] address = [fd15:5b2d:647f:1:b5be:90a6:6fde:a8dc] port = [5540] txt = [\"T=0\" \"SAI=2000\" \"SII=5000\"] $ avahi-browse -rt _matterc._udp + enp0s31f6 IPv6 18D347F0BB27870E _matterc._udp local + enp0s31f6 IPv4 18D347F0BB27870E _matterc._udp local = enp0s31f6 IPv6 18D347F0BB27870E _matterc._udp local hostname = [DEE6259B059B0BB6.local] address = [fd15:5b2d:647f:1:25b3:9abe:d387:e9aa] port = [5540] txt = [\"PI=\" \"PH=36\" \"CM=0\" \"D=3840\" \"T=0\" \"SAI=2000\" \"SII=5000\" \"VP=65521+32772\"] = enp0s31f6 IPv4 18D347F0BB27870E _matterc._udp local hostname = [DEE6259B059B0BB6.local] address = [fd15:5b2d:647f:1:25b3:9abe:d387:e9aa] port = [5540] txt = [\"PI=\" \"PH=36\" \"CM=0\" \"D=3840\" \"T=0\" \"SAI=2000\" \"SII=5000\" \"VP=65521+32772\"] $ ping -6 -c1 3EF840EF1D01024D.local PING 3EF840EF1D01024D.local(fd15:5b2d:647f:1:b5be:90a6:6fde:a8dc (fd15:5b2d:647f:1:b5be:90a6:6fde:a8dc)) 56 data bytes 64 bytes from fd15:5b2d:647f:1:b5be:90a6:6fde:a8dc (fd15:5b2d:647f:1:b5be:90a6:6fde:a8dc): icmp_seq=1 ttl=63 time=82.9 ms --- 3EF840EF1D01024D.local ping statistics --- 1 packets transmitted, 1 received, 0% packet loss, time 0ms rtt min/avg/max/mdev = 82.865/82.865/82.865/0.000 ms $ ping -6 -c1 DEE6259B059B0BB6.local PING DEE6259B059B0BB6.local(fd15:5b2d:647f:1:25b3:9abe:d387:e9aa (fd15:5b2d:647f:1:25b3:9abe:d387:e9aa)) 56 data bytes 64 bytes from fd15:5b2d:647f:1:25b3:9abe:d387:e9aa (fd15:5b2d:647f:1:25b3:9abe:d387:e9aa): icmp_seq=1 ttl=63 time=69.3 ms --- DEE6259B059B0BB6.local ping statistics --- 1 packets transmitted, 1 received, 0% packet loss, time 0ms rtt min/avg/max/mdev = 69.331/69.331/69.331/0.000 ms","title":"Step 2: Commissioning"},{"location":"tutorials/openthread_border_router_codelabs/#step-3-control-the-light","text":"Toggle the Light Command Format : chip-tool onoff toggle ${NODE_ID} 1 Example\uff1a sudo ./out/chip-tool/chip-tool onoff toggle 1001 1 Turn On the Light Command Format : chip-tool onoff on ${NODE_ID} 1 Example\uff1a sudo ./out/chip-tool/chip-tool onoff on 1001 1 Turn Off the Light Command Format : chip-tool onoff off ${NODE_ID} 1 Example\uff1a sudo ./out/chip-tool/chip-tool onoff off 1001 1 Read the State of the Light Command Format : chip-tool onoff read on-off ${NODE_ID} 1 Example\uff1a sudo ./out/chip-tool/chip-tool onoff read on-off 1001 1","title":"Step 3: Control the Light"},{"location":"tutorials/openthread_border_router_codelabs/#step-4-use-the-matter-switch-to-control-the-light","text":"Set the ACL of the Light to Allow the Switch to Control It For ACL parameter explanation, please refer to Matter Core Specification - 9.10.5.3. ACL Attribute Command Format : sudo ./out/chip-tool/chip-tool accesscontrol write acl '[{\"fabricIndex\":1, \"privilege\":5, \"authMode\":2, \"subjects\":[112233, ${switch_node_id}], \"targets\":null}]' ${lighting_node_id} 0 Example\uff1a sudo ./out/chip-tool/chip-tool accesscontrol write acl '[{\"fabricIndex\":1, \"privilege\":5, \"authMode\":2, \"subjects\":[112233, 1002], \"targets\":null}]' 1001 0 Bind the Switch to the Light Command Format : sudo ./out/chip-tool/chip-tool binding write binding '[{\"fabricIndex\":1, \"node\":${lighting_node_id}, \"endpoint\":1, \"cluster\":6}]' ${switch_node_id} 1 Example\uff1a sudo ./out/chip-tool/chip-tool binding write binding '[{\"fabricIndex\":1, \"node\":1001, \"endpoint\":1, \"cluster\":6}]' 1002 1 After completing the above steps, you can use Matter Switch BTN1 to control the on/off state of Matter Light.","title":"Step 4: Use the Matter Switch to Control the Light"},{"location":"tutorials/openthread_border_router_codelabs/#connect-to-home-assistant","text":"Test environment Raspberrypi 4B Debian GNU/Linux 11 (bullseye) In progress \u2026 Still have questions? Visit our Community Forum .","title":"Connect to Home Assistant"},{"location":"tutorials/thread_mesh/","text":"Thread Mesh \u00b6 Thread Network \u00b6 You can configure and manage Thread Network settings on the Thread Network page. EUI-64 \uff1aUnique device identifier, hexadecimal number of 8 bytes in length. Ext Mac \uff1aThe device extension address, a unique identifier in the Thread network, is a hexadecimal number of 8 bytes in length. The extended address is randomly generated and will be re-randomized when the system is restored to factory settings. Thread Version \uff1aCurrent thread protocol version. Tx Power \uff1aTransmit power, 0~20dBm, default is 20dBm. Network Name \uff1aThread network name, 1 to 16 characters long, used to generate PSKc (Pre-Shared Key for the Commissioner), default format - <3 characters after MAC address>. PAN ID \uff1aIEEE 802.15.4 MAC layer unique identifier, default value is 2 bytes after the MAC address in hexadecimal format. Extended PAN ID \uff1aThread network extension PAN ID for PSKc generation. Network Key \uff1aThread network key, a hexadecimal number of 16 bytes in length. Channel \uff1aThread network channel, 11~26, default value is 26. Commissioner Credential \uff1aUser-defined string, UTF-8 encoded characters from 6 to 255 in length, used to generate PSKc, default value is goodlife . Network Name/ PAN ID/ Extended PAN ID/ Network Key is generated based on the MAC address of the device. Create a new network \u00b6 You can create a new network directly by using the default configuration and clicking Enable . You can then see that the status of the S200 has changed from Detached to Leader , which means that a new network has been created. Note : If you have the same network settings as an existing Thread network in your current environment, then the S200 will automatically join that network. If you want to set some parameters manually, you can configure them by clicking on the Manual Setup . Join an existing network \u00b6 We support the following 4 ways to add the S200 to an existing network. Join the network by using Network Key \u00b6 Click on the Join Network and the GL-S200 will scan the surrounding available Thread networks. Select the Thread network you want to join in the pop-up window, enter its Network Key and apply it. Join the network by using the Commissioner \u00b6 Using another GL.iNET S200 as the Commissioner (please refer to the Thread Commissioning page guide), enter the Joiner EUI64 and Joiner Credential of the S200 to be connected to the network. Click on the \" Join Network \" on the S200 to be connected to the network, select \" Join With Commissioner \" in the pop-up window, enter the Joiner Credential and apply it. A successful Join Network will automatically jump to display the status page. Networking using import Thread network configuration \u00b6 To facilitate deployment, we can import the same Thread network configuration directly to the device so that devices with the same Thread network configuration are automatically networked after they are up. You can import and export by clicking on Import Setting/Export Setting in the top right hand corner of the Thread Network page. Note : You can only export when the Thread Network is up, or import when the Thread Network is down. Join the network by using External Commissioner \u00b6 In the Thread network, the GL.iNET S200 acts as a border agent to support external commissioners, which can be a mobile phone or a PC. Download Commissioner App OT Commissioner Android App Thread Group Android App Open the app after connecting the GL-S200 via WiFi. Select one of the AVALABLE BORDER ROUTERS and click on it and enter the Commissioner Credential. If step 3 is entered correctly, you can scan the QR code on the GL-S200 Join With Commissioner page and click Apply on the GL-S200 page to start the process. Export thread network settings \u00b6 You can copy the thread network dataset TLV data or download it in the file. Thread Commissioning \u00b6 You can add new devices to the network on this page, and GL-S200 supports bulk imports. The Joiners card shows the list of Joiners to be added to the network The Commission Records card shows Joiner's network entry history. For Joined/Timeout devices, click Action -> Rejoin to re-enter the network without re-entering\uff1b For all devices with Joined/Join Fail status, you can also click on Rejoin All to re-enter the network in bulk Add a single device \u00b6 Joiner EUI-64 : Joiner's EUI-64 or type * to match all Joiners. Joiner Credential : The device credentials to be added must be a string containing all uppercase letters and numbers and must not contain the letters I, O, Q and Z, between 6 and 32 characters in length. Joiner Timeout : Joiner access timeout, during which a Joiner can access the network using valid credentials. Add devices in batches \u00b6 If the device vendor has set different Joiner credentials for each Thread device, you will need this feature when deploying. Clicking Download template to download the template or export the saved Joiner list, fill in or add the Joiner EUI64 and Joiner Credential, then click Select to import. Thread Topologies \u00b6 The network topology data is obtained by sending multicast packets. The network topology data allows you to view information about each node such as IPv6 address, mode of operation, directly connected sub-nodes, etc. You can click on any device to view information about that device. Advanced \u00b6 We have provided some advanced configurations related to Thread networking. Normally we do not recommend that users modify these parameters. SRP Server \u00b6 SRP (Service Registration Protocol) is a service registration and discovery protocol. The IP of devices on an IP-based network is not usually fixed, so communication is not possible without determining the IP of the other end, and this SRP protocol allows automatic discovery of devices and services on the Thread network. Host: SRP Server domain. Lease: The lifetime of the DNS-SD PTR, SRV, A, AAAA and TXT records. Key Lease: The lifetime of the KEY records. Backbone Routers \u00b6 The Backbone Router (BBR) function is primarily used to receive multicast inbound/outbound requests. Refer to Thread Border Router - Thread 1.2 Multicast for experimentation. Backbone Interface: Select the interface that bbr use. Still have questions? Visit our Community Forum .","title":"Thread Mesh"},{"location":"tutorials/thread_mesh/#thread-mesh","text":"","title":"Thread Mesh"},{"location":"tutorials/thread_mesh/#thread-network","text":"You can configure and manage Thread Network settings on the Thread Network page. EUI-64 \uff1aUnique device identifier, hexadecimal number of 8 bytes in length. Ext Mac \uff1aThe device extension address, a unique identifier in the Thread network, is a hexadecimal number of 8 bytes in length. The extended address is randomly generated and will be re-randomized when the system is restored to factory settings. Thread Version \uff1aCurrent thread protocol version. Tx Power \uff1aTransmit power, 0~20dBm, default is 20dBm. Network Name \uff1aThread network name, 1 to 16 characters long, used to generate PSKc (Pre-Shared Key for the Commissioner), default format - <3 characters after MAC address>. PAN ID \uff1aIEEE 802.15.4 MAC layer unique identifier, default value is 2 bytes after the MAC address in hexadecimal format. Extended PAN ID \uff1aThread network extension PAN ID for PSKc generation. Network Key \uff1aThread network key, a hexadecimal number of 16 bytes in length. Channel \uff1aThread network channel, 11~26, default value is 26. Commissioner Credential \uff1aUser-defined string, UTF-8 encoded characters from 6 to 255 in length, used to generate PSKc, default value is goodlife . Network Name/ PAN ID/ Extended PAN ID/ Network Key is generated based on the MAC address of the device.","title":"Thread Network"},{"location":"tutorials/thread_mesh/#create-a-new-network","text":"You can create a new network directly by using the default configuration and clicking Enable . You can then see that the status of the S200 has changed from Detached to Leader , which means that a new network has been created. Note : If you have the same network settings as an existing Thread network in your current environment, then the S200 will automatically join that network. If you want to set some parameters manually, you can configure them by clicking on the Manual Setup .","title":"Create a new network"},{"location":"tutorials/thread_mesh/#join-an-existing-network","text":"We support the following 4 ways to add the S200 to an existing network.","title":"Join an existing network"},{"location":"tutorials/thread_mesh/#join-the-network-by-using-network-key","text":"Click on the Join Network and the GL-S200 will scan the surrounding available Thread networks. Select the Thread network you want to join in the pop-up window, enter its Network Key and apply it.","title":"Join the network by using Network Key"},{"location":"tutorials/thread_mesh/#join-the-network-by-using-the-commissioner","text":"Using another GL.iNET S200 as the Commissioner (please refer to the Thread Commissioning page guide), enter the Joiner EUI64 and Joiner Credential of the S200 to be connected to the network. Click on the \" Join Network \" on the S200 to be connected to the network, select \" Join With Commissioner \" in the pop-up window, enter the Joiner Credential and apply it. A successful Join Network will automatically jump to display the status page.","title":"Join the network by using the Commissioner"},{"location":"tutorials/thread_mesh/#networking-using-import-thread-network-configuration","text":"To facilitate deployment, we can import the same Thread network configuration directly to the device so that devices with the same Thread network configuration are automatically networked after they are up. You can import and export by clicking on Import Setting/Export Setting in the top right hand corner of the Thread Network page. Note : You can only export when the Thread Network is up, or import when the Thread Network is down.","title":"Networking using import Thread network configuration"},{"location":"tutorials/thread_mesh/#join-the-network-by-using-external-commissioner","text":"In the Thread network, the GL.iNET S200 acts as a border agent to support external commissioners, which can be a mobile phone or a PC. Download Commissioner App OT Commissioner Android App Thread Group Android App Open the app after connecting the GL-S200 via WiFi. Select one of the AVALABLE BORDER ROUTERS and click on it and enter the Commissioner Credential. If step 3 is entered correctly, you can scan the QR code on the GL-S200 Join With Commissioner page and click Apply on the GL-S200 page to start the process.","title":"Join the network by using External Commissioner"},{"location":"tutorials/thread_mesh/#export-thread-network-settings","text":"You can copy the thread network dataset TLV data or download it in the file.","title":"Export thread network settings"},{"location":"tutorials/thread_mesh/#thread-commissioning","text":"You can add new devices to the network on this page, and GL-S200 supports bulk imports. The Joiners card shows the list of Joiners to be added to the network The Commission Records card shows Joiner's network entry history. For Joined/Timeout devices, click Action -> Rejoin to re-enter the network without re-entering\uff1b For all devices with Joined/Join Fail status, you can also click on Rejoin All to re-enter the network in bulk","title":"Thread Commissioning"},{"location":"tutorials/thread_mesh/#add-a-single-device","text":"Joiner EUI-64 : Joiner's EUI-64 or type * to match all Joiners. Joiner Credential : The device credentials to be added must be a string containing all uppercase letters and numbers and must not contain the letters I, O, Q and Z, between 6 and 32 characters in length. Joiner Timeout : Joiner access timeout, during which a Joiner can access the network using valid credentials.","title":"Add a single device"},{"location":"tutorials/thread_mesh/#add-devices-in-batches","text":"If the device vendor has set different Joiner credentials for each Thread device, you will need this feature when deploying. Clicking Download template to download the template or export the saved Joiner list, fill in or add the Joiner EUI64 and Joiner Credential, then click Select to import.","title":"Add devices in batches"},{"location":"tutorials/thread_mesh/#thread-topologies","text":"The network topology data is obtained by sending multicast packets. The network topology data allows you to view information about each node such as IPv6 address, mode of operation, directly connected sub-nodes, etc. You can click on any device to view information about that device.","title":"Thread Topologies"},{"location":"tutorials/thread_mesh/#advanced","text":"We have provided some advanced configurations related to Thread networking. Normally we do not recommend that users modify these parameters.","title":"Advanced"},{"location":"tutorials/thread_mesh/#srp-server","text":"SRP (Service Registration Protocol) is a service registration and discovery protocol. The IP of devices on an IP-based network is not usually fixed, so communication is not possible without determining the IP of the other end, and this SRP protocol allows automatic discovery of devices and services on the Thread network. Host: SRP Server domain. Lease: The lifetime of the DNS-SD PTR, SRV, A, AAAA and TXT records. Key Lease: The lifetime of the KEY records.","title":"SRP Server"},{"location":"tutorials/thread_mesh/#backbone-routers","text":"The Backbone Router (BBR) function is primarily used to receive multicast inbound/outbound requests. Refer to Thread Border Router - Thread 1.2 Multicast for experimentation. Backbone Interface: Select the interface that bbr use. Still have questions? Visit our Community Forum .","title":"Backbone Routers"},{"location":"user_guide/","text":"User Guide \u00b6 GL-S10 GL-S200","title":"Overview"},{"location":"user_guide/#user-guide","text":"GL-S10 GL-S200","title":"User Guide"},{"location":"user_guide/gl-m2/first_time_setup/","text":"Coming soon.","title":"First Time Setup"},{"location":"user_guide/gl-s10/firmware_compilation_guide/","text":"GL-S10 Firmware Compilation Guide \u00b6 This doc is intended to help users set the software building environment and build your own applications for GL-S10. As an example, we build a simple demo. It aims to recieve iBeacons from around and then send it to specified MQTT broker through WiFi. Note that WiFi and MQTT setting is written in the source code. Set Develop Environment \u00b6 GL-S10 application is base on Espressif esp-idf(v3.3). You can get the detailed steps of building the compile environment by following the link. https://docs.espressif.com/projects/esp-idf/en/v3.3/get-started/index.html#introduction (Attention: Please check the version of IDF before you download it.) After configuring the develop environment, decompress and get into the source code folder ble_ibeacon/ . Most code is in the file ibeacon_demo.c . Modify source code \u00b6 1. Modify WiFi setting Find contents as below in the ibeacon_demo.c and modify the WiFi setting to what you want. wifi_config_t wifi_config = { .sta = { .ssid = \"WIFI SSID\", // .password = \"WIFI password\", }, }; 2. Modify MQTT setting Similar with WiFi setting. Find and modify the struct esp_mqtt_client_config_t in the ibeacon_demo.c . esp_mqtt_client_config_t mqtt_cfg = { .uri = \"mqtt://192.168.100.174:61613\",//IP:port .usernaem = \"MQTT username\", .password = \"MQTT password\", .event_handle = mqtt_event_handler, }; (If you want to connect to MQTT broker except tcp, change the url prefix.) tcp ---> mqtt:// tcp-ssl ---> mqtts:// web socket ---> ws:// web socket secure ---> wss:// Compile and Flash \u00b6 1. Configuration Before compile the application, get into your project folder (here is ble_ibeacon/ ) , using command make menuconfig to configure some basic setting like serial port. In the configuration inteface, you just need to change three point as follow. Firstly, click Serial flasher config . Then modify the three point marked by red line. Set Default serial port to the port name show in your PC, typically is /dev/ttyUSB0 . Set Serial flasher config --->Flash SPI speed to 80MHz . Set Serial flasher config --->Flash size to 4MB . 2. Build In your project folder, using command make all . It will compile and build the firmware. When finished sucessfully, it will show information like this. 3. Flash GL-S10 using UART to flash the firmware, and also using this UART to output the system log. Connect the UART in S10 to the PC by a USB-UART converter. The PC will find a new usb device like /dev/ttyUSB0 . It is the name you should write in the Default serial port . After connect S10 UART to the PC, using command make flash or make flash monitor to flash the firmware. When shows like that, it means the PC is waiting S10 to get into \"download mode\". How to get into \"download mode\", do in this way. Unplug the S10 power, press the flash button(do not release) and then plug in the power. When it shows like that, means flash starts sucessfully, then you can release the flash button and wait for the flash finished. When flash has been finished, restart the GL-S10. Result \u00b6 If you have connect the S10 UART to the PC, using command make monitor , it will print all the system log like that. (here shows the iBeacon data it recieved) In the MQTT broker, You can get the messages published by S10 like that.","title":"Firmware Compilation Guide"},{"location":"user_guide/gl-s10/firmware_compilation_guide/#gl-s10-firmware-compilation-guide","text":"This doc is intended to help users set the software building environment and build your own applications for GL-S10. As an example, we build a simple demo. It aims to recieve iBeacons from around and then send it to specified MQTT broker through WiFi. Note that WiFi and MQTT setting is written in the source code.","title":"GL-S10 Firmware Compilation Guide"},{"location":"user_guide/gl-s10/firmware_compilation_guide/#set-develop-environment","text":"GL-S10 application is base on Espressif esp-idf(v3.3). You can get the detailed steps of building the compile environment by following the link. https://docs.espressif.com/projects/esp-idf/en/v3.3/get-started/index.html#introduction (Attention: Please check the version of IDF before you download it.) After configuring the develop environment, decompress and get into the source code folder ble_ibeacon/ . Most code is in the file ibeacon_demo.c .","title":"Set Develop Environment"},{"location":"user_guide/gl-s10/firmware_compilation_guide/#modify-source-code","text":"1. Modify WiFi setting Find contents as below in the ibeacon_demo.c and modify the WiFi setting to what you want. wifi_config_t wifi_config = { .sta = { .ssid = \"WIFI SSID\", // .password = \"WIFI password\", }, }; 2. Modify MQTT setting Similar with WiFi setting. Find and modify the struct esp_mqtt_client_config_t in the ibeacon_demo.c . esp_mqtt_client_config_t mqtt_cfg = { .uri = \"mqtt://192.168.100.174:61613\",//IP:port .usernaem = \"MQTT username\", .password = \"MQTT password\", .event_handle = mqtt_event_handler, }; (If you want to connect to MQTT broker except tcp, change the url prefix.) tcp ---> mqtt:// tcp-ssl ---> mqtts:// web socket ---> ws:// web socket secure ---> wss://","title":"Modify source code"},{"location":"user_guide/gl-s10/firmware_compilation_guide/#compile-and-flash","text":"1. Configuration Before compile the application, get into your project folder (here is ble_ibeacon/ ) , using command make menuconfig to configure some basic setting like serial port. In the configuration inteface, you just need to change three point as follow. Firstly, click Serial flasher config . Then modify the three point marked by red line. Set Default serial port to the port name show in your PC, typically is /dev/ttyUSB0 . Set Serial flasher config --->Flash SPI speed to 80MHz . Set Serial flasher config --->Flash size to 4MB . 2. Build In your project folder, using command make all . It will compile and build the firmware. When finished sucessfully, it will show information like this. 3. Flash GL-S10 using UART to flash the firmware, and also using this UART to output the system log. Connect the UART in S10 to the PC by a USB-UART converter. The PC will find a new usb device like /dev/ttyUSB0 . It is the name you should write in the Default serial port . After connect S10 UART to the PC, using command make flash or make flash monitor to flash the firmware. When shows like that, it means the PC is waiting S10 to get into \"download mode\". How to get into \"download mode\", do in this way. Unplug the S10 power, press the flash button(do not release) and then plug in the power. When it shows like that, means flash starts sucessfully, then you can release the flash button and wait for the flash finished. When flash has been finished, restart the GL-S10.","title":"Compile and Flash"},{"location":"user_guide/gl-s10/firmware_compilation_guide/#result","text":"If you have connect the S10 UART to the PC, using command make monitor , it will print all the system log like that. (here shows the iBeacon data it recieved) In the MQTT broker, You can get the messages published by S10 like that.","title":"Result"},{"location":"user_guide/gl-s10/first_time_setup/","text":"Introduction \u00b6 GL-S10 doesn't have a web Admin Panel. It is a BLE-WiFi gateway aimming to provide a simple method conversing Bluetooth Low Energy to WiFi. It supports GAP and GATT, can act as GATT server or GATT client. WiFi is used in STA mode, connect the superior router to access to the network. Also it can connect to network through Ethernet. It has a built-in standard MQTT client which could connect to any standard MQTT server. Using MQTT, it can forward BLE messages to the cloud and on the other hand forward messages from cloud to the connected BLE device through BLE notify. Please access to learn more. User Manual Firmware Compilation Guide There is a video setup guide of GL-S10.","title":"First Time Setup"},{"location":"user_guide/gl-s10/first_time_setup/#introduction","text":"GL-S10 doesn't have a web Admin Panel. It is a BLE-WiFi gateway aimming to provide a simple method conversing Bluetooth Low Energy to WiFi. It supports GAP and GATT, can act as GATT server or GATT client. WiFi is used in STA mode, connect the superior router to access to the network. Also it can connect to network through Ethernet. It has a built-in standard MQTT client which could connect to any standard MQTT server. Using MQTT, it can forward BLE messages to the cloud and on the other hand forward messages from cloud to the connected BLE device through BLE notify. Please access to learn more. User Manual Firmware Compilation Guide There is a video setup guide of GL-S10.","title":"Introduction"},{"location":"user_guide/gl-s10/hardware_info/","text":"Hardware info \u00b6 Specification \u00b6 GL-s10 specification PCB Pinout \u00b6","title":"Hardware Info"},{"location":"user_guide/gl-s10/hardware_info/#hardware-info","text":"","title":"Hardware info"},{"location":"user_guide/gl-s10/hardware_info/#specification","text":"GL-s10 specification","title":"Specification"},{"location":"user_guide/gl-s10/hardware_info/#pcb-pinout","text":"","title":"PCB Pinout"},{"location":"user_guide/gl-s10/user_manual/","text":"GL-S10 User Manual \u00b6 Version Date Commit V2.0.0 2021-10-25 - General Product Introduction \u00b6 Product introduction \u00b6 The GL-S10 is an IoT gateway device that supports BLE and Wi-Fi, providing a cost-effective solution for transmitting BLE broadcast data to the cloud. BLE supports GAP and GATT certification and can be used as either Master or Slave to connect and communicate with other BLE devices. GL-S10 can use Wi-Fi as a Station to connect to a parent route or can connect to the Internet through a WAN port. It has a built-in standard MQTT Client that can connect to any standard MQTT Servers to forward incoming BLE messages to the cloud server. The GL-S10 is ideally deployed in warehouses, shopping malls, airports, exhibition halls, tourist attractions and other scenarios for personnel management, asset management, environmental monitoring, indoor navigation, etc. Product feature \u00b6 Runs on Dual-core Xtensa\u00ae 32-bit LX6 microprocessor, supports BLE, Wi-Fi, and Ethernet BLE supports BLE 4.2 Certification BLE communication distance is measured up to 80m (in an open and non-interference environment) Supports multiple encryption methods Supports upgrading firmware via OTA and local serial port Supports MQTT and integrating to multiple server platforms Includes application for configuration with customized connection to Wi-Fi and MQTT servers Supports 802.3at/af standard POE input power Technical specification \u00b6 Project Description CPU ESP32-DOWD Dual-core Xtensa \u00ae 32-bit LX6 microprocessor Nor-Flash 4MB RAM SRAM 520KB + PSRAM 8MB BLE Supports BLE 4.2 Certification Coverage of 80m (in an open and non-interference environment) Receiving sensitivity - 97dBm WiFi 802.11b/g/n Coverage of 80m (in an open and non-interference environment). Transmitting power 11n: 13dBm; 11b: 18.5dBm Speed 150Mbps WAN 1 Megabit Ethernet port Button 1 Reset button Configuration mode, Resetting and OTA upgrading can be accessed by pressing the button LED 3 LED lights: Power, BLE and Network Indicator Lights Power Supply Supports 1x Micro USB, 5V/1A input Supports 802.3at/af standard POE input power Note: Charging with both methods simultaneously may cause damage to the device. Power Consumption Normal operations: < 0.5W Operating at full capacity: < 1.5W Shell Size 57 * 57 * 25mm(L * M * H) Shell Material ABS Antenna Type External antenna Working Temperature 0~40\u00b0C Storage Temperature -20~70\u00b0C Working humidity 5% ~ 90%, no condensation Storage humidity 5% ~ 95%, no condensation Package list \u00b6 Project Quantity GL-S10 Gateway 1 BLE Beacon (optional accessory) 1 External Antenna 1 USB Power Cord 1 User Manual 1 Device and APP Installation \u00b6 Device installation \u00b6 Take out the product from its package and attach the external antenna as shown below. Figure 1 Note: Avoid plugging in the PoE power supply and 5V power supply simultaneously, it may cause damage to the device. Do not connect to any power supply (including PoE & 5V) before installing the antenna. Button function list \u00b6 Pairing mode Reset to factory setting OTA upgrade When it is not connected to any power supply, press, and hold the \"Reset\" button while plugging in the power cord. While pressing the \"Reset\" button, turn on the power, press and hold the \"Reset\" button for 5 seconds and release. While pressing the \"Reset\" button, turn on the power, press and hold the \"Reset\" button for 10 seconds and release. LED description \u00b6 LED Light Status Reset to factory setting Enter OTA mode OTA upgrade process Power (Green light) Light on: Device is on Light off: Device is off Blinks slowly Blinks fast Blinks alternatively BLE (Green light) Light blinks: Paring Mode(Disconnected) Light on: Paring Mode(Connected) Light off: Scanning Mode Blinks slowly Blinks fast Blinks alternatively Network (White light) Light blinks: Wi-Fi connected Light on: Ethernet connected Light off: Not connected Blinks slowly Blinks fast Blinks alternatively BLE beacon \u00b6 BLE Beacon is an optional accessory. User can purchase gateway kit with beacon for a quick Demo. The beacon can also be used for indoor positioning, asset management and other scenarios. The rotating base makes the device easy to disassemble; and the base has 3M adhesive which makes it easy to fix in place. After turning on the BLE switch at the bottom of the beacon, the beacon will broadcast BLE signals at an interval of 300ms. Select the filter function of GL-S10 and identify the devices by the BLE MAC address printed at the bottom of the beacon. Figure 2 APP installation \u00b6 Download and install GL-S10 Tool App on your phone, turn on the Bluetooth function of your phone (For Android phone users, please turn on Bluetooth and GPS), and follow the instructions in this user manual to configure your GL-S10. Figure 3 App Configuration \u00b6 Set configuration mode \u00b6 Before using the app for configuration, set GL-S10 into its paring mode by pressing the Reset button of GL-S10 when the power is off, then turn on the power. Release the button when you see the BLE indicator in the middle flashes, and your GL-S10 will enter its pairing mode. App language \u00b6 Start the app and select the app language, you can choose between English and Simplified Chinese. Figure 4 Figure 5 Connecting your GL-S10 \u00b6 Click the \"scan\" button in the upper right corner. The scanning result automatically filters out non-GL-S10 devices. If more than one GL-S10 are scanned, select the devices you want to connect according to the BLE MAC address on the label at the bottom of your GL-S10 shell (as shown below). Note: WAN MAC address is BLE MAC address minus 1, WiFi MAC address is BLE MAC address minus 2 Figure 6 Figure 7 Home page \u00b6 Select a GL-S10 device and enter the \"Manage Device\" interface as shown below Figure 8 Device Info \u00b6 You can click to view the details of the device as shown below Figure 9 Figure 10 Protocal configuration \u00b6 To setup uplink connection using a Protocal on the WAN port, click \"Manage Device\" > \"Protocal\" > \"Protocal\". You can configure \"DHCP\" and \"Static IP\" mode, then click \"Done\" to save the settings as shown below. Figure 11 Figure 12 Wi-Fi configuration \u00b6 To connect to a primary gateway, click \"Manage Device\" > \"WiFi\" > \"Connect WiFi\" > \"Scan WiFi\", and select your WiFi SSID. You can also select \"None\", \"WPA2\" or \"WPA2 Enterprise\" mode. Click \"Done\" on the upper right corner to confirm the setting as shown below. If you want to upgrade your WPA2 ENTERPRISE certificate, click \u201cUpgrade certificate\u201d. Figure 13 Figure 14 Figure 15 MQTT Configuration \u00b6 To configure MQTT, click \"Manage Device\" > \"MQTT Server\". Enter the address of your MQTT broker in the \"Host\" field, fill in the port number, username, and password. The \"TLS\" selection switches between TSL/SSL link and the TCP link. Enter a SUBSCRIBE message in the \"Command\" field and a SUBACK acknowledgement message in the \"Respond Topic\" field. You can also click \"Update Certificate\" below to update the MQTT encryption certificate. Click \"Done\" on the upper right corner to save the settings. Figure 16 Figure 17 Report Configuration \u00b6 Click \"Report Configuration\" in the interface of \"Manage Device\" to enter the interface of \"Report Configuration\". Click \"Report interval\", \"Topic\", \"Bluetooth RSSI threshold filtering\" to enter the relevant information configuration interface, fill in the configuration information and click the upper left corner to return to the previous page to save your settings. Click \u201cBLE MAC Filter\u201d, \u201cComplete Local Name Filter\u201d, or \u201cManufacturer Specific Data Filter\u201d at the bottom and enter the relevant information to activate the filter. Note: Filter Rules Instructions MAC Filter: The value range is 0~f, the characters are lowercase, and colons must be included; the string should be full match. Complete Local Name Filter: the characters are case-sensitive,the string should be full match; for any unsure information, please download the nFR Connect software to check. Manufacture Specific Data Filter: The value range is 0~f/F, the characters are case-sensitive and should be matched according to regular expressions. If you purchased a gateway kit with the BLE Beacon, you also have the option to set BLE MAC filtering rules for the beacon in the app by entering the BLE MAC address information printed on the bottom of the beacon. Click \"Add New Rule\" or \"Remove\" to edit the filter settings and click \"Done\" on the upper right corner to save the settings. Figure 18 Figure 19 Figure 20 Figure 21 Data & Time configuration \u00b6 Click \"Manage Device\" > \"Date & Time\". Select your time zone, fill in the SNTP service address and click the upper left corner to return to the previous page to save your settings, as shown below. Figure 22 Figure 23 Auto Reboot configuration \u00b6 Click \"Manage Device\" > \"Auto Reboot\". You can schedule a time to reboot GL-S10 on a daily-basis. Click the upper left corner to return to the previous page to save your settings, as shown below. Figure 24 Figure 25 OTA upgrade \u00b6 Click \"Manage Device\" > \"Upgrade OTA\". Under \"OTA URL\", enter the http server address and click \"Save\" on the upper right corner. Click \"Upgrade OTA\" to save the URL path and initiate the upgrade. Click \"Update Certificate\" to update the OTA encryption certificate as shown below. Please keep your GL-S10 connected to the internet and do NOT turn off the power during the OTA upgrade. After the OTA upgrade is completed, your GL-S10 will automatically enter Scanning mode, and your app will not be able to search for GL-S10. Figure 26 Figure 27 Figure 28 Figure 29 Reboot device \u00b6 Click \"Manage Device\" > \"Reboot\", and a pop-up window will ask for a reboot confirmation. The device will reboot after clicking \"Sure\". After rebooting, the device will automatically enter Scanning mode, and your app will not be able to search for GL-S10. Figure 30 Reset device \u00b6 Click \"Manage Device\" > \"Reset\". A pop-up window will ask for a reset confirmation. When you click \"Sure\", all device configurations will be restored to the factory default settings. After resetting the device, it will automatically enter Scanning mode, and your app will be able to search for GL-S10. Figure 31 MQTT Configuration \u00b6 When the GL-S10 is connected to the MQTT server, you can also use the MQTT API to configure the GL-S10. You can configure MQTT using a third-party tool - MQTT X, downloadable from https://mqttx.app/. The default MQTT setting is configured to connect with the beta cloud platform. Enter the configuration for GL-S10 and MQTT X client to activate the connection. The beta cloud platform is for testing only and not for other usage. Network Configuration \u00b6 GL-S10 supports wired transmission and Wi-Fi for connecting to the router or gateway. The setting procedure can be found in section 3.6 Cable configuration and 3.7 Wi-Fi configuration. MQTT X client configuration \u00b6 Before doing the MQTT X client configuration, we need to configure the configuration of the MQTT server on S10 first. Find MQTT Server session in the S10 Tool APP. Here we are using the test MQTT server: iot-s10-test.gl-inet.cn. And the Port is: 1884, so we need to set the Host in the following figure: iot-s10-test.gl-inet.cn. And set Port: 1884. Figure 32 Figure 33 On the windows version of the MQTT X client, start the MQTT X software and add a new connection. To configure the beta cloud platform, enter the URL address iot-s10-test.gl-inet.cn and port 1884. Click the upper right corner of the page to connect. A successful connection is shown below in Figure 33. Figure 34 Figure 35 MQTT Message Editing and Communicating with S10 \u00b6 The default command topic for this firmware is GL-IoT/comTopic/{dev_MAC}, and the command reply topic is GL-IoT/rspTopic/{dev_MAC}. The BLE MAC address of the GL-S10 device we use in this example is: E8DB841E2B1E (The BLE MAC address is printed on the bottom of the device or in the app). In our testing, MQTT X sends data via GL-IoT/comTopic/E8DB841E2B1E and receives data from GL-S10 by subscribing to GL-IoT/rspTopic/E8DB841E2B1E. Below is a demo of how to set data (SET_DEV_MESSAGE) and obtain data from GL-S10 (GET_DEV_MESSAGE): Step 1: Subscribe to the GL-IoT/rspTopic/E8DB841E2B1E topic using MQTT X. Figure 36 Step 2: SET_WIFI_CONFIG API Function: Configure SSID and PWD of WIFI or SSID, user name, user password of WIFI WPA2, and try to connect to the corresponding route. { \"jsonrpc\": \"2.0\", \"method\": \"SET_WIFI_CONFIG\", \"params\": { \"type\":0, \"ssid\": \"Test\", \"pwd\": \"123456\" }, \"id\": 1 } Here we use \"Test\" for the SSID and \"123456\" for the user passward. When type is equal to 0, SSID, PASSWORD can be set. When type is equal to 1, SSID, USERNAME, USERPASSWORD can be set. SSID: route name, length 0 - 32 characters. PWD: route password, length 0 - 64 characters. USERNAME: User name, length 0 - 32 characters. USERPWD: User password, length 0 - 64 characters. Figure 37 Set data successfully: Figure 38 Step 3: GET_WIFI_CONFIG API Function: Get the SSID and PWD of WIFI or SSID, user name, user password of WIFI WPA2\\ { \"jsonrpc\" : \"2.0\" , \"method\" : \"GET_WIFI_CONFIG\" , \"params\" : { \"type\" : 0 }, \"id\" : 2 } When type is equal to 0, get SSID, PASSWORD. When type is equal to 1, get SSID, USERNAME, USERPASSWORD Figure 39 Get data successfully: Figure 40 BLE Data Uploading \u00b6 After successfully establishing connection, GL-S10 automatically enters Scanning mode and scans for BLE signal during startup. If the MQTT server is connected, the BLE scan data will be packaged and uploaded to \"GL-IoT/dataTopic/{dev_MAC}\" topic in JSON format. ({dev_MAC} is the local BLE MAC address, in this example, the BLE MAC address of the GL-S10 device used is: E8DB841E2B1E). As shown above, the JSON fields have the following definitions MAC : Broadcast source address rssi : Broadcast source signal strength n : Broadcast source device name (this field will not appear if the broadcast source does not have a name) ad : Broadcast data advData ts : receive timestamp If you purchased a gateway kit with a BLE Beacon and adds filtering rules for the beacon BLE MAC address according to section 3.9, the JSON information viewed here is the BLE information broadcast by the beacon. The beacons are placed at different distances from the GL-S10 gateway (distance up to the decimeter level), and the value of rssi (broadcast source signal strength) may fluctuate based on distance. Figure 41 Figure 42 GL-S10 Config API \u00b6 This chapter define the commands to configure the GL-S10 device using the MQTT method. Command summary sheet Command summary sheet \u00b6 Command Code Command Whether parameters are required Description 0x01 SET_WiFi_CONFIG Y Set up Wi-Fi configuration 0x02 GET_WiFi_CONFIG N Get Wi-Fi configuration 0x03 SET_NETWORK_CONFIG Y Set static IP or dynamic IP 0x04 GET_NETWORK_CONFIG N Get static IP or dynamic IP 0x05 GET_NETWORK_STATE N Get the current network status 0x06 WiFi_CONNECT_OR_DISCONNECT Y Wi-Fi connected or disconnected 0x07 SET_MQTT_URL Y Set MQTT URL 0x08 GET_MQTT_URL N Get MQTT URL 0x09 MQTT_CONNECT_OR_DISCONNECT Y MQTT connected or disconnected 0x0A SET_MQTT_TOPIC Y Set MQTT topic name 0x0B GET_MQTT_TOPIC N Get MQTT topic name 0x0C SET_MQTT_TI Y Set the MQTT data reporting time interval 0x0D GET_MQTT_TI N Get the MQTT data reporting time interval 0x0E SET_SNTP_TZ Y Set the SNTP server time zone 0x0F GET_SNTP_TZ N Get the SNTP server time zone 0x10 SET_SNTP_SERVER Y Set the SNTP server 0x11 GET_SNTP_SERVER N Get the SNTP server 0x12 SET_AUTO_REBOOT Y Set auto reboot time 0x13 GET_AUTO_REBOO N Get auto reboot timeL 0x14 SET_MAC_FILTER Y Add and remove MAC filter table entries 0x15 GET_MAC_FILTER Y Get MAC filter table entries 0x16 SET_CLN_FILTER Y Add and remove BLE Complete Local Name filter table entries 0x17 GET_CLN_FILTER N Get BLE Complete Local Name filter table entries 0x18 SET_MSD_FILTER Y Add and remove Manufacturer Specific Data filter table entries 0x19 GET_MSD_FILTER N Get Manufacturer Specific Data filter table entries 0x1A UPDATE_MQTT_CERT Y Update MQTT encryption certificates 0x1B UPDATE_WPA2_CERT Y Update Wi-Fi WPA2 encryption certificate 0x1C UPDATE_HTTPS_CERT Y Update HTTPS OTA encryption certificate 0x1D SET_OTA_URL Y Set the URL of the OTA server 0x1E GET_OTA_URL N Get the URL of the OTA server 0x1F OTA_STATUS N OTA upgrade status notification 0x20 GET_DEV_STATUS N Get device status 0x21 GET_DEV_MESSAGE N Get device message 0x22 RESTART_DEV N Reboot device 0x23 RESET_DEV N Reset device 0x24 SET_BLE_RSSI_FILTER Y Set RSSI filter thresholds 0x25 GET_BLE_RSSI_FILTER N Get RSSI filter thresholds 0x26 GET_WiFi_AP_LIST N Get a list of surrounding Wi-Fi AP information Command detail \u00b6 SET_WiFi_CONFIG \u00b6 API function: Configure the WiFi\u2019s SSID and password, or WiFi WPA2\u2019s SSID, username and password, then connect to the router. Data segment at reception: CmdID Data 0x01 0x00\\n SSID\\nPWD\\n 0x01\\n SSID\\nUSERNAME\\nUSERPASSWORD\\n Note: Each paragraph of data is separated by the '\\n' character, as shown above, please follow the format. When data[0] is equal to 0x00, SSID and PASSWORD are configurable. When data[0] is equal to 0x01, SSID, USERNAME, USERPASSWORD are configurable. SSID: router\u2019s name, maximum length of 1-32 characters. PWD: router\u2019s password, maximum length of 8-64 characters. USERNAME: username, maximum length of 1-32 characters. USERPASSWORD: user password, maximum length 1-64 characters. Data segment at response: CmdID Data 0x01 Result\\n Note: Each paragraph of data is separated by the '\\n' character, as shown above, please follow the format. Result\uff1a0x00 represents execution success; 0x01 represents execution failure. GET_WiFi_CONFIG \u00b6 API Function: Get Wi-Fi SSID and PWD, or Wi-Fi WPA2 SSID, user name, user password Data segment at reception: CmdID Data 0x02 0x00\\n 0x01\\n When data[0] is equal to 0x00, get SSID, PASSWORD. When data[0] is equal to 0x01, get SSID, USERNAME, USERPASSWORD. Data segment at response: CmdID Data 0x02 Result\\n 0x00\\n SSID\\nPWD\\n 0x01\\n SSID\\nUSERNAME\\nUSERPASSWORD\\n Result: 0x00 represents execution success; 0x01 represents execution failure. When data[1] is equal to 0x00, get SSID, PASSWORD. When data[1] is equal to 0x01, get SSID, USERNAME, USERPASSWORD. SSID: router\u2019s name, maximum length of 1-32 characters. PWD: router\u2019s password, maximum length of 8-64 characters. USERNAME: username, length 1-32 characters. USERPASSWORD: user password, length 1-64 characters. SET_NETWORK_CONFIG \u00b6 API function: Set static IP or dynamic IP. Data segment at reception: CmdID Data 0x03 0x00\\n 0x01\\n When data[0] is equal to 0x00, the device is set to DHCP auto-get IP mode. When data[0] is equal to 0x01, the device is set to static IP mode, and IP, Netmask, Gw can be set. IP: fixed length, xxx is a number between 0-255, format XXX.XXX.XXX.XXX. Netmask: fixed length, xxx is a number between 0-255, format XXX.XXX.XXX.XXX. Gw: fixed length, xxx is a number between 0-255, format XXX.XXX.XXX.XXX. Data segment at response: CmdID Data 0x03 Result\\n Result: 0x00 represents execution success; 0x01 represents execution failure. GET_NETWORK_CONFIG \u00b6 API Function: Get the network configuration of static IP or dynamic IP. Data segment at reception: CmdID Data 0x04 0x00\\n 0x01\\n When mode is equal to 0x00, it indicates that the device is in DHCP auto-allocation state without any data. When mode equals to 0x01, it indicates that the device is in static IP allocation state, and available to receive IP, Netmask and Gw. Data segment at response: CmdID Data 0x04 Result\\n 0x00\\n / 0x01\\n IP\\nNetmask\\nGw\\n Result: 0x00 represent execution success; 0x01 represents execution failure. When data[1] is equal to 0x00, it indicates that the device is in DHCP auto-assignment state, and the data behind is empty. When data[1] is equal to 0x01, it indicates that the device is in static IP allocation state, and available to receive IP, Netmask, and Gw. IP: fixed length, xxx is a number from 0-255, format XXX.XXX.XXX. Netmask: fixed length, xxx is a number from 0-255, format XXX.XXX.XXX.XXX. Gw: fixed length, xxx is a number from 0-255, format XXX.XXX.XXX.XXX. GET_NETWORK_STATE \u00b6 API Function: Get the current network state: State, Mode, isDhcp , IP, SSID. Data segment at reception: CmdID Data 0x05 / Data is equal to null. Data segment at response: CmdID Data 0x05 Result\\n State\\nMode\\nisDhcp\\nIP\\nSSID\\n Result: 0x00 represents execution success; 0x01 represents execution failure. State: indicates the status of the connection (MQTT server connection), character '0' means connected, character '1' means disconnected, occupies one byte. Mode: indicates the connection mode, character '0' indicates connection via Wi-Fi, character '1' indicates connection via Ethernet cable, occupies one byte. isDhcp: character '0' means it is automatically assigned, character '1' means it is not automatically assigned, occupies one byte. IP: local IP address, xxx is a number between 0-255, format XXX.XXX.XXX.XXX. SSID: SSID of the connected router, length 1-32 characters. WiFi_CPNNECT_OR_DISCONNECT \u00b6 API function: Trigger Wi-Fi connection or disconnects. Data segment at reception: CmdID Data 0x06 0x00\\n 0x01\\n When data[0] is equal to 0x00, it triggers the device to connect to Wi-Fi. When data[0] is equal to 0x01, it triggers the device to disconnect Wi-Fi. Data segment at response: CmdID Data 0x06 Result\\n Result: 0x00 represents execution success; 0x01 represents execution failure. SET_MQTT_URL \u00b6 API function: Set MQTT_URL. Data segment at reception: CmdID Data 0x07 MQTT_URL\\n MQTT_URL field: Data field format: mqtt(s)://username:password@host:port mqtt : TCP connection mqtts : TSL/SSL connection username : Username, length 0-32 characters password : User password, length 0-64 characters host : Host name, length 7-128 characters port \uff1aHost port, range 0-65535, length 1-5 characters Data segment at response: CmdID Data 0x07 Result\\n Result: 0x00 Execution success; 0x01 Execution failure. GET_MQTT_URL \u00b6 API Function: Get MQTT_URL. Data segment at reception: CmdID Data 0x08 / Data is equal to null. Data segment at response: CmdID Data 0x08 Result\\n MQTT_URL\\n Result: 0x00 represents execution success; 0x01 represents execution failure. MQTT_URL field: Data field format: mqtt(s)://username:password@host:port mqtt : TCP connection mqtts : TSL/SSL connection username : Username, length 0-32 characters password : User password, length 0-64 characters host : Host name, length 7-128 characters port \uff1aHost port, range 0-65535, length 1-5 characters MQTT_CONNECT_OR_DISCONNECT \u00b6 API function: Activate trigger to connect to the MQTT server. Data segment at reception: CmdID Data 0x09 0x00\\n 0x01\\n When data[0] shows 0x00, it triggers the device to connect to the MQTT server. When data[0] shows 0x01, it triggers the device to disconnect with the MQTT server. Data segment at response: CmdID Data 0x09 Result\\n Result: 0x00 represents execution success; 0x01 represents execution failure. SET_MQTT_TOPIC \u00b6 API function: Configure comTopic, dataTopic and rspTopic topics. Data segment on reception. CmdID Data 0x0A comTopic\\ndataTopic\\nrspTopic\\n comTopic: command for subscribing a topic, does not support Chinese, length 1-128 characters. dataTopic: publishing a topic, does not support Chinese, maximum length of 1-128 characters. rspTopic: Unsuback a topic, does not support Chinese, maximum length of 1-128 characters. Data segment at response: CmdID Data 0x0A Result\\n Result: 0x00 represents execution success; 0x01 represents execution failure. GET_MQTT_TOPIC \u00b6 API Function: Get comTopic, dataTopic and rspTopic topics. Data segment at reception: CmdID Data 0x0B / data equals to null. Data segment at response: CmdID Data 0x0B Result\\n comTopic\\ndataTopic\\nrspTopic\\n Result\uff1a0x00 represents execution success; 0x01 represents execution failure. comTopic: command for subscribing a topic, does not support Chinese, length 1-128 characters dataTopic: publishing a topic, does not support Chinese, maximum length of 1-128 characters rspTopic: Unsuback a topic, does not support Chinese, maximum length of 1-128 characters SET_MQTT_TI \u00b6 API Function: Set the MQTT data upload time interval. Data segment at reception: CmdID Data 0x0C IntervalTime\\n IntervalTime: MQTT data reporting time interval, 100ms - 4294967294ms, length 3-10. Data segment at response: CmdID Data 0x0C Result\\n Result: 0x00 represents execution success; 0x01 represents execution failure. GET_MQTT_TI \u00b6 API Function: Get the MQTT data upload interval. Data segment at reception: CmdID Data 0x0D / data is equal to null. Data segment at response: CmdID Data 0x0D Result\\n IntervalTime\\n Result: 0x00 represents execution success; 0x01 represents execution failure. IntervalTime: MQTT data reporting time interval, 100ms - 4294967294ms, length 3-10. SET_SNTP_TZ \u00b6 API function: Set the device time zone. Data segment at reception: CmdID Data 0x0E Timezone\\n Timezone: Time zone format, UTC+X or UTC-X (X range 0-12), default Timezone = UTC+8. Data segment at response: CmdID Data 0x0E Result\\n Result: 0x00 represents execution success; 0x01 represents execution failure. GET_SNTP_TZ \u00b6 API Function: Get the device time zone. Data segment at reception: CmdID Data 0x0F / Data is equal to null. Data segment at response: CmdID Data 0x0F Result\\n Timezone\\n Result: 0x00 represents execution success; 0x01 represents execution failure. Timezone: Time zone format, UTC+X or UTC-X (X range 0-12), default Timezone = UTC-8. SET_SNTP_SERVER \u00b6 API function: Set the SNTP server address. Data segment at reception: CmdID Data 0x10 ServerURL\\n ServerURL: SNTP server URL setting, maximum length of 1-128 characters. Data segment at response: CmdID Data 0x10 Result\\n Result: 0x00 represents execution success; 0x01 represents execution failure. GET_SNTP_SERVER \u00b6 API Function: Get the SNTP server address. Data segment at reception: CmdID Data 0x11 / Data is equal to null Data segment at response: CmdID Data 0x11 Result\\n ServerURL\\n Result: 0x00 represents execution success; 0x01 represents execution failure. ServerURL: SNTP server URL setting, maximum length of 1-128 characters. SET_AUTO_REBOOT \u00b6 API Function: Set the auto restart time and switch status. Data segment at reception: CmdID Data 0x12 RstState\\nRstTime\\n RstState: indicates whether to turn on the daily restart, character '0' means turn on, character '1' means turn off, occupies one byte. RstTime: daily restart time, format XX:XX 24 hours, range 00:00 - 23:59, occupies five bytes. Data segment at response: CmdID Data 0x12 Result\\n Result: 0x00 represents execution success; 0x01 represents execution failure. GET_AUTO_REBOOT \u00b6 API Function: Get the auto restart time and switch status. Data segment at reception: CmdID Data 0x13 / Data is equal to null. Data segment at response: CmdID Data 0x13 Result\\n RstState\\nRstTime\\n Result\uff1a0x00 represents execution success; 0x01 represents execution failure. RstState: indicates whether to turn on the daily restart, character '0' means turn on, character '1' means not turn on, takes up one byte. RstTime: daily restart time, format XX:XX 24 hours, range 00:00 - 23:59, occupies five bytes. SET_MAC_FILTER \u00b6 API Function: Add or remove MAC filter table entries. Data segment on reception. CmdID Data 0x14 MODE\\nAddMAC\\n MODE : 0x00 is Add mode, which adds the AddMAC field to the MAC table of the device; 0x01 is Delete mode, which removes the AddMAC field from the MAC table. AddMAC: Format XX:XX:XX:XX:XX:XX, XX range [0-9a-fA-F]. Data segment at response: CmdID Data 0x14 Result\\n Result\uff1a0x00 represents execution success; 0x01 represents execution failure. GET_MAC_FILTER \u00b6 API Function: Get MAC filter table entries. Data segment at reception: CmdID Data 0x15 / Data is equal to null. Data segment at response: CmdID Data 0x15 Result\\n AddMAC0\\nAddMAC1\\n\u2026\\n Result\uff1a0x00 represents execution success; 0x01 represents execution failure. AddMAC: AddMAC0, AddMAC1 are single MAC, it will send all the data in the MAC filter table in a batch according to the format shown above, single format XX:XX:XX:XX:XX:XX, XX range [0-9a-fA-F]. SET_CLN_FILTER \u00b6 API Function: Adds or removes a BLE device name filter table entry. Data segment at reception: CmdID Data 0x16 MODE\\nAddCLN\\n MODE : 0x00 is Add mode, which adds the AddCLN field to the device's BLE device name table; 0x01 is Delete mode, which removes the AddCLN field from the BLE device name table. AddCLN: Single device name, length 1-32 characters. Data segment at response: CmdID Data 0x16 Result\\n Result\uff1a0x00 represents execution success; 0x01 represents execution failure. GET_CLN_FILTER \u00b6 API Function: Get the BLE device name filter table entry. Data segment at reception: CmdID Data 0x17 / Data is equal to null Data segment at response: CmdID Data 0x17 Result\\n AddCLN0\\n AddCLN1\\n\u2026\\n Result\uff1a0x00 represents execution success; 0x01 represents execution failure. AddCLN: AddCLN0, AddCLN1 are single CLN, which will send all the data in the CLN filter table together. CLN: BLE Complete Local Name. SET_MSD_FILTER \u00b6 API Function: Add or remove BLE vendor custom data filter table entries. Data segment on reception. CmdID Data 0x18 MODE\\nAddMSD\\n MODE : 0x00 is Add mode which adds the AddMSD field to the device's BLE vendor custom data table; 0x01 is Delete mode which removes the AddMSD field from the BLE vendor custom data table. AddMSD: single BLE vendor-defined data, length 2-64 characters, and length must be a multiple of 2, character range [0-9a-fA-F]. Data segment at response: CmdID Data 0x18 Result\\n Result\uff1a0x00 represents execution success; 0x01 represents execution failure. GET_MSD_FILTER \u00b6 API Function: Get BLE vendor custom data filter table entries. Data segment on reception. CmdID Data 0x19 / Data is equal to null Data segment at response: CmdID Data 0x19 Result\\n AddMSD0\\n AddMSD1\\n\u2026\\n Result: 0x00 represents execution success; 0x01 represents execution failure. AddMSD: AddMSD0, AddMSD1 are single MSD, which will send all the data in the MSD filter table together. MSD: Manufacturer Specific Data. UPDATE_MQTT_CERT \u00b6 API functionality: Update MQTT encryption certificate. Data segment at reception: CmdID Data 0x1A MODE\\nMqttCertURL\\n MODE: 0x00 updates certificate immediately, 0x01 only saves certificate URL, and does not update certificate immediately. Occupies 1 character. MQTT encrypted certificate URL address, length 1-500 characters. Note: If the Data segment is null, the MqttCertURL will be restored to the default configuration, and the certificate will be updated. Data segment at response: CmdID Data 0x1A Result\\n Result: 0x00 represents execution success; 0x01 represents execution failure. UPDATE_WPA2_CERT \u00b6 API function: Update Wi-Fi WPA2 encryption certificate. Data segment at reception: CmdID Data 0x1B MODE\\nWpa2CertURL\\n MODE: 0x00 updates certificate immediately, 0x01 only saves certificate URL, and does not update certificate immediately. Occupies 1 character. Wpa2CertURL: WPA2 encryption certificate URL address, length 1-500 characters. Note: If the Data segment is null, the Wpa2CertURL will be restored to the default configuration, and the certificate will be updated. Data segment at response: CmdID Data 0x1B Result\\n Result: 0x00 represents execution success; 0x01 represents execution failure. UPDATE_HTTPS_CERT \u00b6 API functions: Update HTTPS encryption certificate. Data segment at reception: CmdID Data 0x1C MODE\\nHttpsCertURL\\n MODE: 0x00 updates certificate immediately, 0x01 only saves certificate URL, and does not update certificate immediately. Occupies 1 character. HttpsCertURL: HTTPS encrypted certificate URL address, length 1-500 characters. Note: If the Data segment is null, the HttpsCertURL will be restored to the default configuration, and the certificate will be updated. Data segment at response: CmdID Data 0x1C Result\\n Result: 0x00 represents execution success; 0x01 represents execution failure. SET_OTA_URL \u00b6 API function: Set the OTA URL. Data segment at reception: CmdID Data 0x1D updateNow\\nOtaURL\\n updateNow: whether to upgrade OTA immediately, occupies 1 byte, character '0' will save the URL and upgrade immediately, character '1' will only save the url without upgrading. OtaURL: the server link for OTA upgrade, length 1-512 characters. Note: If the Data segment is null, OtaURL will be restored to the default configuration, but will not trigger OTA. Data segment at response: CmdID Data 0x1D Result\\n Result: 0x00 represents execution success; 0x01 represents execution failure. GET_OTA_URL \u00b6 API Function: Get the OTA URL. Data segment at reception: CmdID Data 0x1E / Data is equal to null. Data segment at response: CmdID Data 0x1E Result\\n OtaURL\\n Result: 0x00 represents execution success; 0x01 represents execution failure. OtaURL: the server link of OTA upgrade, length 1-512 characters. OTA_STATUS \u00b6 API function: Reply result after OTA completion, initiated by the device after OTA completion. Data segment at response: CmdID Data 0x1F Result\\n / Result\uff1a0x00 represents execution success; 0x01 represents execution failure. GET_DEV_STATUS \u00b6 API Function: Get device Wi-Fi RSSI, networking status, server connection status. Data segment at reception: CmdID Data 0x20 / Data is equal to null Data segment at response: CmdID Data 0x20 Result\\n WiFi_RSSI\\nIS_CONNECT_NETWORK\\nIS_CONNECT_SERVER\\nWiFi_MODE\\n Result\uff1a0x00 represents execution success; 0x01 represents execution failure. WiFi_RSSI: RSSI of the connected router, range -96 ~ 0, occupies 1 byte, signed character. IS_CONNECT_NETWORK: network connection status 0x00 means not connected; 0x01 means connected. IS_CONNECT_SERVER: MQTT server connection status 0x00 means not connected; 0x01 means connected. WiFi_MODE: Wi-Fi connection mode [0x00 -> no password] [0x01 -> wpa2 personal encryption] [0x02 -> wpa2 enterprise encryption] GET_DEV_MESSAGE \u00b6 API Function: Get device Wi-Fi MAC, BLE MAC, SN, Device ID, firmware version number. Data segment at reception: CmdID Data 0x21 / Data is equal to null Data segment at response: CmdID Data 0x21 Result\\n BLE_MAC\\nWiFi_MAC\\nSN\\nDevice_ID\\nFirmwareVersion\\n Result: 0x00 represents execution success; 0x01 represents execution failure. WiFi_MAC: Format XX:XX:XX:XX:XX:XX, XX range [0-9a-fA-F]. BLE_MAC: Format XX:XX:XX:XX:XX:XX:XX , XX range [0-9a-fA-F]. SN: Device SN code, length 16 characters. Device_ID: device ID code, length 7 characters. FirmwareVersion: firmware version number, length 0-32 characters. RESTART_DEV \u00b6 API function: Reboot the device. Data segment at reception: CmdID Data 0x22 / Data is equal to null Data segment at response: CmdID Data 0x22 Result\\n Result: 0x00 represents execution success; 0x01 represents execution failure. RESET_DEV \u00b6 API function: Reset the device. Data segment at reception: CmdID Data 0x23 / Data is equal to null Data segment at response: CmdID Data 0x23 Result\\n Result: 0x00 represents execution success; 0x01 represents execution failure. SET_BLE_RSSI_FILTER \u00b6 API function: Set the BLE_RSSI filter threshold. Data segment at reception: CmdID Data 0x24 BLERssiFilter\\n BLERssiFilter: char type Range -100 ~ 0. Default value: -100 Data segment at response: CmdID Data 0x24 Result\\n Result: 0x00 represents execution success; 0x01 represents execution failure. GET_BLE_RSSI_FILTER \u00b6 API Function: Get the BLE_RSSI filter threshold. Data segment at reception: CmdID Data 0x25 / Data segment at response: CmdID Data 0x25 Result\\n BLERssiFilter\\n Result: 0x00 represents execution success; 0x01 represents execution failure. BLERssiFilter: char type Range -100 ~ 0. GET_WiFi_AP_LIST \u00b6 API Function: Get the list of surrounding Wi-Fi AP information. Data segment at reception: CmdID Data 0x26 / Data segment at response: CmdID Data 0x26 Result\\n { \"WiFi_AP_LIST\": [ {\"SSID\": \"XXXX\",\"RSSI\":XXX,\"authMode\": X}, {\"SSID\": \"XXXX\",\"RSSI\":XXX, \"authMode\":X}, {\"SSID\": \"XXXX\",\"RSSI\": XXX, \"authMode\": X}, \u2026\u2026 ] } Result: 0x00 represents execution success; 0x01 represents execution failure. SSID: router name, in string form, valid length 0-32 RSSI: Routing signal strength, numeric type, valid range -96 ~ 0. AUTH_MODE: Routing encryption method, numeric type, valid range 0 ~ 7. See the following table for the meaning. CmdID Data 0 authenticate mode : open 1 authenticate mode : WEP 2 authenticate mode : WPA_PSK 3 authenticate mode : WPA2_PSK 4 authenticate mode : WPA_WPA2_PSK 5 authenticate mode : WPA2_ENTERPRISE 5 authenticate mode : WPA2_ENTERPRISE 6 authenticate mode : WPA3_PS 7 authenticate mode : WPA2_WPA3_PSK - default","title":"User Manual"},{"location":"user_guide/gl-s10/user_manual/#gl-s10-user-manual","text":"Version Date Commit V2.0.0 2021-10-25 -","title":"GL-S10 User Manual"},{"location":"user_guide/gl-s10/user_manual/#general-product-introduction","text":"","title":"General Product Introduction"},{"location":"user_guide/gl-s10/user_manual/#product-introduction","text":"The GL-S10 is an IoT gateway device that supports BLE and Wi-Fi, providing a cost-effective solution for transmitting BLE broadcast data to the cloud. BLE supports GAP and GATT certification and can be used as either Master or Slave to connect and communicate with other BLE devices. GL-S10 can use Wi-Fi as a Station to connect to a parent route or can connect to the Internet through a WAN port. It has a built-in standard MQTT Client that can connect to any standard MQTT Servers to forward incoming BLE messages to the cloud server. The GL-S10 is ideally deployed in warehouses, shopping malls, airports, exhibition halls, tourist attractions and other scenarios for personnel management, asset management, environmental monitoring, indoor navigation, etc.","title":"Product introduction"},{"location":"user_guide/gl-s10/user_manual/#product-feature","text":"Runs on Dual-core Xtensa\u00ae 32-bit LX6 microprocessor, supports BLE, Wi-Fi, and Ethernet BLE supports BLE 4.2 Certification BLE communication distance is measured up to 80m (in an open and non-interference environment) Supports multiple encryption methods Supports upgrading firmware via OTA and local serial port Supports MQTT and integrating to multiple server platforms Includes application for configuration with customized connection to Wi-Fi and MQTT servers Supports 802.3at/af standard POE input power","title":"Product feature"},{"location":"user_guide/gl-s10/user_manual/#technical-specification","text":"Project Description CPU ESP32-DOWD Dual-core Xtensa \u00ae 32-bit LX6 microprocessor Nor-Flash 4MB RAM SRAM 520KB + PSRAM 8MB BLE Supports BLE 4.2 Certification Coverage of 80m (in an open and non-interference environment) Receiving sensitivity - 97dBm WiFi 802.11b/g/n Coverage of 80m (in an open and non-interference environment). Transmitting power 11n: 13dBm; 11b: 18.5dBm Speed 150Mbps WAN 1 Megabit Ethernet port Button 1 Reset button Configuration mode, Resetting and OTA upgrading can be accessed by pressing the button LED 3 LED lights: Power, BLE and Network Indicator Lights Power Supply Supports 1x Micro USB, 5V/1A input Supports 802.3at/af standard POE input power Note: Charging with both methods simultaneously may cause damage to the device. Power Consumption Normal operations: < 0.5W Operating at full capacity: < 1.5W Shell Size 57 * 57 * 25mm(L * M * H) Shell Material ABS Antenna Type External antenna Working Temperature 0~40\u00b0C Storage Temperature -20~70\u00b0C Working humidity 5% ~ 90%, no condensation Storage humidity 5% ~ 95%, no condensation","title":"Technical specification"},{"location":"user_guide/gl-s10/user_manual/#package-list","text":"Project Quantity GL-S10 Gateway 1 BLE Beacon (optional accessory) 1 External Antenna 1 USB Power Cord 1 User Manual 1","title":"Package list"},{"location":"user_guide/gl-s10/user_manual/#device-and-app-installation","text":"","title":"Device and APP Installation"},{"location":"user_guide/gl-s10/user_manual/#device-installation","text":"Take out the product from its package and attach the external antenna as shown below. Figure 1 Note: Avoid plugging in the PoE power supply and 5V power supply simultaneously, it may cause damage to the device. Do not connect to any power supply (including PoE & 5V) before installing the antenna.","title":"Device installation"},{"location":"user_guide/gl-s10/user_manual/#button-function-list","text":"Pairing mode Reset to factory setting OTA upgrade When it is not connected to any power supply, press, and hold the \"Reset\" button while plugging in the power cord. While pressing the \"Reset\" button, turn on the power, press and hold the \"Reset\" button for 5 seconds and release. While pressing the \"Reset\" button, turn on the power, press and hold the \"Reset\" button for 10 seconds and release.","title":"Button function list"},{"location":"user_guide/gl-s10/user_manual/#led-description","text":"LED Light Status Reset to factory setting Enter OTA mode OTA upgrade process Power (Green light) Light on: Device is on Light off: Device is off Blinks slowly Blinks fast Blinks alternatively BLE (Green light) Light blinks: Paring Mode(Disconnected) Light on: Paring Mode(Connected) Light off: Scanning Mode Blinks slowly Blinks fast Blinks alternatively Network (White light) Light blinks: Wi-Fi connected Light on: Ethernet connected Light off: Not connected Blinks slowly Blinks fast Blinks alternatively","title":"LED description"},{"location":"user_guide/gl-s10/user_manual/#ble-beacon","text":"BLE Beacon is an optional accessory. User can purchase gateway kit with beacon for a quick Demo. The beacon can also be used for indoor positioning, asset management and other scenarios. The rotating base makes the device easy to disassemble; and the base has 3M adhesive which makes it easy to fix in place. After turning on the BLE switch at the bottom of the beacon, the beacon will broadcast BLE signals at an interval of 300ms. Select the filter function of GL-S10 and identify the devices by the BLE MAC address printed at the bottom of the beacon. Figure 2","title":"BLE beacon"},{"location":"user_guide/gl-s10/user_manual/#app-installation","text":"Download and install GL-S10 Tool App on your phone, turn on the Bluetooth function of your phone (For Android phone users, please turn on Bluetooth and GPS), and follow the instructions in this user manual to configure your GL-S10. Figure 3","title":"APP installation"},{"location":"user_guide/gl-s10/user_manual/#app-configuration","text":"","title":"App Configuration"},{"location":"user_guide/gl-s10/user_manual/#set-configuration-mode","text":"Before using the app for configuration, set GL-S10 into its paring mode by pressing the Reset button of GL-S10 when the power is off, then turn on the power. Release the button when you see the BLE indicator in the middle flashes, and your GL-S10 will enter its pairing mode.","title":"Set configuration mode"},{"location":"user_guide/gl-s10/user_manual/#app-language","text":"Start the app and select the app language, you can choose between English and Simplified Chinese. Figure 4 Figure 5","title":"App language"},{"location":"user_guide/gl-s10/user_manual/#connecting-your-gl-s10","text":"Click the \"scan\" button in the upper right corner. The scanning result automatically filters out non-GL-S10 devices. If more than one GL-S10 are scanned, select the devices you want to connect according to the BLE MAC address on the label at the bottom of your GL-S10 shell (as shown below). Note: WAN MAC address is BLE MAC address minus 1, WiFi MAC address is BLE MAC address minus 2 Figure 6 Figure 7","title":"Connecting your GL-S10"},{"location":"user_guide/gl-s10/user_manual/#home-page","text":"Select a GL-S10 device and enter the \"Manage Device\" interface as shown below Figure 8","title":"Home page"},{"location":"user_guide/gl-s10/user_manual/#device-info","text":"You can click to view the details of the device as shown below Figure 9 Figure 10","title":"Device Info"},{"location":"user_guide/gl-s10/user_manual/#protocal-configuration","text":"To setup uplink connection using a Protocal on the WAN port, click \"Manage Device\" > \"Protocal\" > \"Protocal\". You can configure \"DHCP\" and \"Static IP\" mode, then click \"Done\" to save the settings as shown below. Figure 11 Figure 12","title":"Protocal configuration"},{"location":"user_guide/gl-s10/user_manual/#wi-fi-configuration","text":"To connect to a primary gateway, click \"Manage Device\" > \"WiFi\" > \"Connect WiFi\" > \"Scan WiFi\", and select your WiFi SSID. You can also select \"None\", \"WPA2\" or \"WPA2 Enterprise\" mode. Click \"Done\" on the upper right corner to confirm the setting as shown below. If you want to upgrade your WPA2 ENTERPRISE certificate, click \u201cUpgrade certificate\u201d. Figure 13 Figure 14 Figure 15","title":"Wi-Fi configuration"},{"location":"user_guide/gl-s10/user_manual/#mqtt-configuration","text":"To configure MQTT, click \"Manage Device\" > \"MQTT Server\". Enter the address of your MQTT broker in the \"Host\" field, fill in the port number, username, and password. The \"TLS\" selection switches between TSL/SSL link and the TCP link. Enter a SUBSCRIBE message in the \"Command\" field and a SUBACK acknowledgement message in the \"Respond Topic\" field. You can also click \"Update Certificate\" below to update the MQTT encryption certificate. Click \"Done\" on the upper right corner to save the settings. Figure 16 Figure 17","title":"MQTT Configuration"},{"location":"user_guide/gl-s10/user_manual/#report-configuration","text":"Click \"Report Configuration\" in the interface of \"Manage Device\" to enter the interface of \"Report Configuration\". Click \"Report interval\", \"Topic\", \"Bluetooth RSSI threshold filtering\" to enter the relevant information configuration interface, fill in the configuration information and click the upper left corner to return to the previous page to save your settings. Click \u201cBLE MAC Filter\u201d, \u201cComplete Local Name Filter\u201d, or \u201cManufacturer Specific Data Filter\u201d at the bottom and enter the relevant information to activate the filter. Note: Filter Rules Instructions MAC Filter: The value range is 0~f, the characters are lowercase, and colons must be included; the string should be full match. Complete Local Name Filter: the characters are case-sensitive,the string should be full match; for any unsure information, please download the nFR Connect software to check. Manufacture Specific Data Filter: The value range is 0~f/F, the characters are case-sensitive and should be matched according to regular expressions. If you purchased a gateway kit with the BLE Beacon, you also have the option to set BLE MAC filtering rules for the beacon in the app by entering the BLE MAC address information printed on the bottom of the beacon. Click \"Add New Rule\" or \"Remove\" to edit the filter settings and click \"Done\" on the upper right corner to save the settings. Figure 18 Figure 19 Figure 20 Figure 21","title":"Report Configuration"},{"location":"user_guide/gl-s10/user_manual/#data-time-configuration","text":"Click \"Manage Device\" > \"Date & Time\". Select your time zone, fill in the SNTP service address and click the upper left corner to return to the previous page to save your settings, as shown below. Figure 22 Figure 23","title":"Data &amp; Time configuration"},{"location":"user_guide/gl-s10/user_manual/#auto-reboot-configuration","text":"Click \"Manage Device\" > \"Auto Reboot\". You can schedule a time to reboot GL-S10 on a daily-basis. Click the upper left corner to return to the previous page to save your settings, as shown below. Figure 24 Figure 25","title":"Auto Reboot configuration"},{"location":"user_guide/gl-s10/user_manual/#ota-upgrade","text":"Click \"Manage Device\" > \"Upgrade OTA\". Under \"OTA URL\", enter the http server address and click \"Save\" on the upper right corner. Click \"Upgrade OTA\" to save the URL path and initiate the upgrade. Click \"Update Certificate\" to update the OTA encryption certificate as shown below. Please keep your GL-S10 connected to the internet and do NOT turn off the power during the OTA upgrade. After the OTA upgrade is completed, your GL-S10 will automatically enter Scanning mode, and your app will not be able to search for GL-S10. Figure 26 Figure 27 Figure 28 Figure 29","title":"OTA upgrade"},{"location":"user_guide/gl-s10/user_manual/#reboot-device","text":"Click \"Manage Device\" > \"Reboot\", and a pop-up window will ask for a reboot confirmation. The device will reboot after clicking \"Sure\". After rebooting, the device will automatically enter Scanning mode, and your app will not be able to search for GL-S10. Figure 30","title":"Reboot device"},{"location":"user_guide/gl-s10/user_manual/#reset-device","text":"Click \"Manage Device\" > \"Reset\". A pop-up window will ask for a reset confirmation. When you click \"Sure\", all device configurations will be restored to the factory default settings. After resetting the device, it will automatically enter Scanning mode, and your app will be able to search for GL-S10. Figure 31","title":"Reset device"},{"location":"user_guide/gl-s10/user_manual/#mqtt-configuration_1","text":"When the GL-S10 is connected to the MQTT server, you can also use the MQTT API to configure the GL-S10. You can configure MQTT using a third-party tool - MQTT X, downloadable from https://mqttx.app/. The default MQTT setting is configured to connect with the beta cloud platform. Enter the configuration for GL-S10 and MQTT X client to activate the connection. The beta cloud platform is for testing only and not for other usage.","title":"MQTT Configuration"},{"location":"user_guide/gl-s10/user_manual/#network-configuration","text":"GL-S10 supports wired transmission and Wi-Fi for connecting to the router or gateway. The setting procedure can be found in section 3.6 Cable configuration and 3.7 Wi-Fi configuration.","title":"Network Configuration"},{"location":"user_guide/gl-s10/user_manual/#mqtt-x-client-configuration","text":"Before doing the MQTT X client configuration, we need to configure the configuration of the MQTT server on S10 first. Find MQTT Server session in the S10 Tool APP. Here we are using the test MQTT server: iot-s10-test.gl-inet.cn. And the Port is: 1884, so we need to set the Host in the following figure: iot-s10-test.gl-inet.cn. And set Port: 1884. Figure 32 Figure 33 On the windows version of the MQTT X client, start the MQTT X software and add a new connection. To configure the beta cloud platform, enter the URL address iot-s10-test.gl-inet.cn and port 1884. Click the upper right corner of the page to connect. A successful connection is shown below in Figure 33. Figure 34 Figure 35","title":"MQTT X client configuration"},{"location":"user_guide/gl-s10/user_manual/#mqtt-message-editing-and-communicating-with-s10","text":"The default command topic for this firmware is GL-IoT/comTopic/{dev_MAC}, and the command reply topic is GL-IoT/rspTopic/{dev_MAC}. The BLE MAC address of the GL-S10 device we use in this example is: E8DB841E2B1E (The BLE MAC address is printed on the bottom of the device or in the app). In our testing, MQTT X sends data via GL-IoT/comTopic/E8DB841E2B1E and receives data from GL-S10 by subscribing to GL-IoT/rspTopic/E8DB841E2B1E. Below is a demo of how to set data (SET_DEV_MESSAGE) and obtain data from GL-S10 (GET_DEV_MESSAGE): Step 1: Subscribe to the GL-IoT/rspTopic/E8DB841E2B1E topic using MQTT X. Figure 36 Step 2: SET_WIFI_CONFIG API Function: Configure SSID and PWD of WIFI or SSID, user name, user password of WIFI WPA2, and try to connect to the corresponding route. { \"jsonrpc\": \"2.0\", \"method\": \"SET_WIFI_CONFIG\", \"params\": { \"type\":0, \"ssid\": \"Test\", \"pwd\": \"123456\" }, \"id\": 1 } Here we use \"Test\" for the SSID and \"123456\" for the user passward. When type is equal to 0, SSID, PASSWORD can be set. When type is equal to 1, SSID, USERNAME, USERPASSWORD can be set. SSID: route name, length 0 - 32 characters. PWD: route password, length 0 - 64 characters. USERNAME: User name, length 0 - 32 characters. USERPWD: User password, length 0 - 64 characters. Figure 37 Set data successfully: Figure 38 Step 3: GET_WIFI_CONFIG API Function: Get the SSID and PWD of WIFI or SSID, user name, user password of WIFI WPA2\\ { \"jsonrpc\" : \"2.0\" , \"method\" : \"GET_WIFI_CONFIG\" , \"params\" : { \"type\" : 0 }, \"id\" : 2 } When type is equal to 0, get SSID, PASSWORD. When type is equal to 1, get SSID, USERNAME, USERPASSWORD Figure 39 Get data successfully: Figure 40","title":"MQTT Message Editing and Communicating with S10"},{"location":"user_guide/gl-s10/user_manual/#ble-data-uploading","text":"After successfully establishing connection, GL-S10 automatically enters Scanning mode and scans for BLE signal during startup. If the MQTT server is connected, the BLE scan data will be packaged and uploaded to \"GL-IoT/dataTopic/{dev_MAC}\" topic in JSON format. ({dev_MAC} is the local BLE MAC address, in this example, the BLE MAC address of the GL-S10 device used is: E8DB841E2B1E). As shown above, the JSON fields have the following definitions MAC : Broadcast source address rssi : Broadcast source signal strength n : Broadcast source device name (this field will not appear if the broadcast source does not have a name) ad : Broadcast data advData ts : receive timestamp If you purchased a gateway kit with a BLE Beacon and adds filtering rules for the beacon BLE MAC address according to section 3.9, the JSON information viewed here is the BLE information broadcast by the beacon. The beacons are placed at different distances from the GL-S10 gateway (distance up to the decimeter level), and the value of rssi (broadcast source signal strength) may fluctuate based on distance. Figure 41 Figure 42","title":"BLE Data Uploading"},{"location":"user_guide/gl-s10/user_manual/#gl-s10-config-api","text":"This chapter define the commands to configure the GL-S10 device using the MQTT method. Command summary sheet","title":"GL-S10 Config API"},{"location":"user_guide/gl-s10/user_manual/#command-summary-sheet","text":"Command Code Command Whether parameters are required Description 0x01 SET_WiFi_CONFIG Y Set up Wi-Fi configuration 0x02 GET_WiFi_CONFIG N Get Wi-Fi configuration 0x03 SET_NETWORK_CONFIG Y Set static IP or dynamic IP 0x04 GET_NETWORK_CONFIG N Get static IP or dynamic IP 0x05 GET_NETWORK_STATE N Get the current network status 0x06 WiFi_CONNECT_OR_DISCONNECT Y Wi-Fi connected or disconnected 0x07 SET_MQTT_URL Y Set MQTT URL 0x08 GET_MQTT_URL N Get MQTT URL 0x09 MQTT_CONNECT_OR_DISCONNECT Y MQTT connected or disconnected 0x0A SET_MQTT_TOPIC Y Set MQTT topic name 0x0B GET_MQTT_TOPIC N Get MQTT topic name 0x0C SET_MQTT_TI Y Set the MQTT data reporting time interval 0x0D GET_MQTT_TI N Get the MQTT data reporting time interval 0x0E SET_SNTP_TZ Y Set the SNTP server time zone 0x0F GET_SNTP_TZ N Get the SNTP server time zone 0x10 SET_SNTP_SERVER Y Set the SNTP server 0x11 GET_SNTP_SERVER N Get the SNTP server 0x12 SET_AUTO_REBOOT Y Set auto reboot time 0x13 GET_AUTO_REBOO N Get auto reboot timeL 0x14 SET_MAC_FILTER Y Add and remove MAC filter table entries 0x15 GET_MAC_FILTER Y Get MAC filter table entries 0x16 SET_CLN_FILTER Y Add and remove BLE Complete Local Name filter table entries 0x17 GET_CLN_FILTER N Get BLE Complete Local Name filter table entries 0x18 SET_MSD_FILTER Y Add and remove Manufacturer Specific Data filter table entries 0x19 GET_MSD_FILTER N Get Manufacturer Specific Data filter table entries 0x1A UPDATE_MQTT_CERT Y Update MQTT encryption certificates 0x1B UPDATE_WPA2_CERT Y Update Wi-Fi WPA2 encryption certificate 0x1C UPDATE_HTTPS_CERT Y Update HTTPS OTA encryption certificate 0x1D SET_OTA_URL Y Set the URL of the OTA server 0x1E GET_OTA_URL N Get the URL of the OTA server 0x1F OTA_STATUS N OTA upgrade status notification 0x20 GET_DEV_STATUS N Get device status 0x21 GET_DEV_MESSAGE N Get device message 0x22 RESTART_DEV N Reboot device 0x23 RESET_DEV N Reset device 0x24 SET_BLE_RSSI_FILTER Y Set RSSI filter thresholds 0x25 GET_BLE_RSSI_FILTER N Get RSSI filter thresholds 0x26 GET_WiFi_AP_LIST N Get a list of surrounding Wi-Fi AP information","title":"Command summary sheet"},{"location":"user_guide/gl-s10/user_manual/#command-detail","text":"","title":"Command detail"},{"location":"user_guide/gl-s10/user_manual/#set_wifi_config","text":"API function: Configure the WiFi\u2019s SSID and password, or WiFi WPA2\u2019s SSID, username and password, then connect to the router. Data segment at reception: CmdID Data 0x01 0x00\\n SSID\\nPWD\\n 0x01\\n SSID\\nUSERNAME\\nUSERPASSWORD\\n Note: Each paragraph of data is separated by the '\\n' character, as shown above, please follow the format. When data[0] is equal to 0x00, SSID and PASSWORD are configurable. When data[0] is equal to 0x01, SSID, USERNAME, USERPASSWORD are configurable. SSID: router\u2019s name, maximum length of 1-32 characters. PWD: router\u2019s password, maximum length of 8-64 characters. USERNAME: username, maximum length of 1-32 characters. USERPASSWORD: user password, maximum length 1-64 characters. Data segment at response: CmdID Data 0x01 Result\\n Note: Each paragraph of data is separated by the '\\n' character, as shown above, please follow the format. Result\uff1a0x00 represents execution success; 0x01 represents execution failure.","title":"SET_WiFi_CONFIG"},{"location":"user_guide/gl-s10/user_manual/#get_wifi_config","text":"API Function: Get Wi-Fi SSID and PWD, or Wi-Fi WPA2 SSID, user name, user password Data segment at reception: CmdID Data 0x02 0x00\\n 0x01\\n When data[0] is equal to 0x00, get SSID, PASSWORD. When data[0] is equal to 0x01, get SSID, USERNAME, USERPASSWORD. Data segment at response: CmdID Data 0x02 Result\\n 0x00\\n SSID\\nPWD\\n 0x01\\n SSID\\nUSERNAME\\nUSERPASSWORD\\n Result: 0x00 represents execution success; 0x01 represents execution failure. When data[1] is equal to 0x00, get SSID, PASSWORD. When data[1] is equal to 0x01, get SSID, USERNAME, USERPASSWORD. SSID: router\u2019s name, maximum length of 1-32 characters. PWD: router\u2019s password, maximum length of 8-64 characters. USERNAME: username, length 1-32 characters. USERPASSWORD: user password, length 1-64 characters.","title":"GET_WiFi_CONFIG"},{"location":"user_guide/gl-s10/user_manual/#set_network_config","text":"API function: Set static IP or dynamic IP. Data segment at reception: CmdID Data 0x03 0x00\\n 0x01\\n When data[0] is equal to 0x00, the device is set to DHCP auto-get IP mode. When data[0] is equal to 0x01, the device is set to static IP mode, and IP, Netmask, Gw can be set. IP: fixed length, xxx is a number between 0-255, format XXX.XXX.XXX.XXX. Netmask: fixed length, xxx is a number between 0-255, format XXX.XXX.XXX.XXX. Gw: fixed length, xxx is a number between 0-255, format XXX.XXX.XXX.XXX. Data segment at response: CmdID Data 0x03 Result\\n Result: 0x00 represents execution success; 0x01 represents execution failure.","title":"SET_NETWORK_CONFIG"},{"location":"user_guide/gl-s10/user_manual/#get_network_config","text":"API Function: Get the network configuration of static IP or dynamic IP. Data segment at reception: CmdID Data 0x04 0x00\\n 0x01\\n When mode is equal to 0x00, it indicates that the device is in DHCP auto-allocation state without any data. When mode equals to 0x01, it indicates that the device is in static IP allocation state, and available to receive IP, Netmask and Gw. Data segment at response: CmdID Data 0x04 Result\\n 0x00\\n / 0x01\\n IP\\nNetmask\\nGw\\n Result: 0x00 represent execution success; 0x01 represents execution failure. When data[1] is equal to 0x00, it indicates that the device is in DHCP auto-assignment state, and the data behind is empty. When data[1] is equal to 0x01, it indicates that the device is in static IP allocation state, and available to receive IP, Netmask, and Gw. IP: fixed length, xxx is a number from 0-255, format XXX.XXX.XXX. Netmask: fixed length, xxx is a number from 0-255, format XXX.XXX.XXX.XXX. Gw: fixed length, xxx is a number from 0-255, format XXX.XXX.XXX.XXX.","title":"GET_NETWORK_CONFIG"},{"location":"user_guide/gl-s10/user_manual/#get_network_state","text":"API Function: Get the current network state: State, Mode, isDhcp , IP, SSID. Data segment at reception: CmdID Data 0x05 / Data is equal to null. Data segment at response: CmdID Data 0x05 Result\\n State\\nMode\\nisDhcp\\nIP\\nSSID\\n Result: 0x00 represents execution success; 0x01 represents execution failure. State: indicates the status of the connection (MQTT server connection), character '0' means connected, character '1' means disconnected, occupies one byte. Mode: indicates the connection mode, character '0' indicates connection via Wi-Fi, character '1' indicates connection via Ethernet cable, occupies one byte. isDhcp: character '0' means it is automatically assigned, character '1' means it is not automatically assigned, occupies one byte. IP: local IP address, xxx is a number between 0-255, format XXX.XXX.XXX.XXX. SSID: SSID of the connected router, length 1-32 characters.","title":"GET_NETWORK_STATE"},{"location":"user_guide/gl-s10/user_manual/#wifi_cpnnect_or_disconnect","text":"API function: Trigger Wi-Fi connection or disconnects. Data segment at reception: CmdID Data 0x06 0x00\\n 0x01\\n When data[0] is equal to 0x00, it triggers the device to connect to Wi-Fi. When data[0] is equal to 0x01, it triggers the device to disconnect Wi-Fi. Data segment at response: CmdID Data 0x06 Result\\n Result: 0x00 represents execution success; 0x01 represents execution failure.","title":"WiFi_CPNNECT_OR_DISCONNECT"},{"location":"user_guide/gl-s10/user_manual/#set_mqtt_url","text":"API function: Set MQTT_URL. Data segment at reception: CmdID Data 0x07 MQTT_URL\\n MQTT_URL field: Data field format: mqtt(s)://username:password@host:port mqtt : TCP connection mqtts : TSL/SSL connection username : Username, length 0-32 characters password : User password, length 0-64 characters host : Host name, length 7-128 characters port \uff1aHost port, range 0-65535, length 1-5 characters Data segment at response: CmdID Data 0x07 Result\\n Result: 0x00 Execution success; 0x01 Execution failure.","title":"SET_MQTT_URL"},{"location":"user_guide/gl-s10/user_manual/#get_mqtt_url","text":"API Function: Get MQTT_URL. Data segment at reception: CmdID Data 0x08 / Data is equal to null. Data segment at response: CmdID Data 0x08 Result\\n MQTT_URL\\n Result: 0x00 represents execution success; 0x01 represents execution failure. MQTT_URL field: Data field format: mqtt(s)://username:password@host:port mqtt : TCP connection mqtts : TSL/SSL connection username : Username, length 0-32 characters password : User password, length 0-64 characters host : Host name, length 7-128 characters port \uff1aHost port, range 0-65535, length 1-5 characters","title":"GET_MQTT_URL"},{"location":"user_guide/gl-s10/user_manual/#mqtt_connect_or_disconnect","text":"API function: Activate trigger to connect to the MQTT server. Data segment at reception: CmdID Data 0x09 0x00\\n 0x01\\n When data[0] shows 0x00, it triggers the device to connect to the MQTT server. When data[0] shows 0x01, it triggers the device to disconnect with the MQTT server. Data segment at response: CmdID Data 0x09 Result\\n Result: 0x00 represents execution success; 0x01 represents execution failure.","title":"MQTT_CONNECT_OR_DISCONNECT"},{"location":"user_guide/gl-s10/user_manual/#set_mqtt_topic","text":"API function: Configure comTopic, dataTopic and rspTopic topics. Data segment on reception. CmdID Data 0x0A comTopic\\ndataTopic\\nrspTopic\\n comTopic: command for subscribing a topic, does not support Chinese, length 1-128 characters. dataTopic: publishing a topic, does not support Chinese, maximum length of 1-128 characters. rspTopic: Unsuback a topic, does not support Chinese, maximum length of 1-128 characters. Data segment at response: CmdID Data 0x0A Result\\n Result: 0x00 represents execution success; 0x01 represents execution failure.","title":"SET_MQTT_TOPIC"},{"location":"user_guide/gl-s10/user_manual/#get_mqtt_topic","text":"API Function: Get comTopic, dataTopic and rspTopic topics. Data segment at reception: CmdID Data 0x0B / data equals to null. Data segment at response: CmdID Data 0x0B Result\\n comTopic\\ndataTopic\\nrspTopic\\n Result\uff1a0x00 represents execution success; 0x01 represents execution failure. comTopic: command for subscribing a topic, does not support Chinese, length 1-128 characters dataTopic: publishing a topic, does not support Chinese, maximum length of 1-128 characters rspTopic: Unsuback a topic, does not support Chinese, maximum length of 1-128 characters","title":"GET_MQTT_TOPIC"},{"location":"user_guide/gl-s10/user_manual/#set_mqtt_ti","text":"API Function: Set the MQTT data upload time interval. Data segment at reception: CmdID Data 0x0C IntervalTime\\n IntervalTime: MQTT data reporting time interval, 100ms - 4294967294ms, length 3-10. Data segment at response: CmdID Data 0x0C Result\\n Result: 0x00 represents execution success; 0x01 represents execution failure.","title":"SET_MQTT_TI"},{"location":"user_guide/gl-s10/user_manual/#get_mqtt_ti","text":"API Function: Get the MQTT data upload interval. Data segment at reception: CmdID Data 0x0D / data is equal to null. Data segment at response: CmdID Data 0x0D Result\\n IntervalTime\\n Result: 0x00 represents execution success; 0x01 represents execution failure. IntervalTime: MQTT data reporting time interval, 100ms - 4294967294ms, length 3-10.","title":"GET_MQTT_TI"},{"location":"user_guide/gl-s10/user_manual/#set_sntp_tz","text":"API function: Set the device time zone. Data segment at reception: CmdID Data 0x0E Timezone\\n Timezone: Time zone format, UTC+X or UTC-X (X range 0-12), default Timezone = UTC+8. Data segment at response: CmdID Data 0x0E Result\\n Result: 0x00 represents execution success; 0x01 represents execution failure.","title":"SET_SNTP_TZ"},{"location":"user_guide/gl-s10/user_manual/#get_sntp_tz","text":"API Function: Get the device time zone. Data segment at reception: CmdID Data 0x0F / Data is equal to null. Data segment at response: CmdID Data 0x0F Result\\n Timezone\\n Result: 0x00 represents execution success; 0x01 represents execution failure. Timezone: Time zone format, UTC+X or UTC-X (X range 0-12), default Timezone = UTC-8.","title":"GET_SNTP_TZ"},{"location":"user_guide/gl-s10/user_manual/#set_sntp_server","text":"API function: Set the SNTP server address. Data segment at reception: CmdID Data 0x10 ServerURL\\n ServerURL: SNTP server URL setting, maximum length of 1-128 characters. Data segment at response: CmdID Data 0x10 Result\\n Result: 0x00 represents execution success; 0x01 represents execution failure.","title":"SET_SNTP_SERVER"},{"location":"user_guide/gl-s10/user_manual/#get_sntp_server","text":"API Function: Get the SNTP server address. Data segment at reception: CmdID Data 0x11 / Data is equal to null Data segment at response: CmdID Data 0x11 Result\\n ServerURL\\n Result: 0x00 represents execution success; 0x01 represents execution failure. ServerURL: SNTP server URL setting, maximum length of 1-128 characters.","title":"GET_SNTP_SERVER"},{"location":"user_guide/gl-s10/user_manual/#set_auto_reboot","text":"API Function: Set the auto restart time and switch status. Data segment at reception: CmdID Data 0x12 RstState\\nRstTime\\n RstState: indicates whether to turn on the daily restart, character '0' means turn on, character '1' means turn off, occupies one byte. RstTime: daily restart time, format XX:XX 24 hours, range 00:00 - 23:59, occupies five bytes. Data segment at response: CmdID Data 0x12 Result\\n Result: 0x00 represents execution success; 0x01 represents execution failure.","title":"SET_AUTO_REBOOT"},{"location":"user_guide/gl-s10/user_manual/#get_auto_reboot","text":"API Function: Get the auto restart time and switch status. Data segment at reception: CmdID Data 0x13 / Data is equal to null. Data segment at response: CmdID Data 0x13 Result\\n RstState\\nRstTime\\n Result\uff1a0x00 represents execution success; 0x01 represents execution failure. RstState: indicates whether to turn on the daily restart, character '0' means turn on, character '1' means not turn on, takes up one byte. RstTime: daily restart time, format XX:XX 24 hours, range 00:00 - 23:59, occupies five bytes.","title":"GET_AUTO_REBOOT"},{"location":"user_guide/gl-s10/user_manual/#set_mac_filter","text":"API Function: Add or remove MAC filter table entries. Data segment on reception. CmdID Data 0x14 MODE\\nAddMAC\\n MODE : 0x00 is Add mode, which adds the AddMAC field to the MAC table of the device; 0x01 is Delete mode, which removes the AddMAC field from the MAC table. AddMAC: Format XX:XX:XX:XX:XX:XX, XX range [0-9a-fA-F]. Data segment at response: CmdID Data 0x14 Result\\n Result\uff1a0x00 represents execution success; 0x01 represents execution failure.","title":"SET_MAC_FILTER"},{"location":"user_guide/gl-s10/user_manual/#get_mac_filter","text":"API Function: Get MAC filter table entries. Data segment at reception: CmdID Data 0x15 / Data is equal to null. Data segment at response: CmdID Data 0x15 Result\\n AddMAC0\\nAddMAC1\\n\u2026\\n Result\uff1a0x00 represents execution success; 0x01 represents execution failure. AddMAC: AddMAC0, AddMAC1 are single MAC, it will send all the data in the MAC filter table in a batch according to the format shown above, single format XX:XX:XX:XX:XX:XX, XX range [0-9a-fA-F].","title":"GET_MAC_FILTER"},{"location":"user_guide/gl-s10/user_manual/#set_cln_filter","text":"API Function: Adds or removes a BLE device name filter table entry. Data segment at reception: CmdID Data 0x16 MODE\\nAddCLN\\n MODE : 0x00 is Add mode, which adds the AddCLN field to the device's BLE device name table; 0x01 is Delete mode, which removes the AddCLN field from the BLE device name table. AddCLN: Single device name, length 1-32 characters. Data segment at response: CmdID Data 0x16 Result\\n Result\uff1a0x00 represents execution success; 0x01 represents execution failure.","title":"SET_CLN_FILTER"},{"location":"user_guide/gl-s10/user_manual/#get_cln_filter","text":"API Function: Get the BLE device name filter table entry. Data segment at reception: CmdID Data 0x17 / Data is equal to null Data segment at response: CmdID Data 0x17 Result\\n AddCLN0\\n AddCLN1\\n\u2026\\n Result\uff1a0x00 represents execution success; 0x01 represents execution failure. AddCLN: AddCLN0, AddCLN1 are single CLN, which will send all the data in the CLN filter table together. CLN: BLE Complete Local Name.","title":"GET_CLN_FILTER"},{"location":"user_guide/gl-s10/user_manual/#set_msd_filter","text":"API Function: Add or remove BLE vendor custom data filter table entries. Data segment on reception. CmdID Data 0x18 MODE\\nAddMSD\\n MODE : 0x00 is Add mode which adds the AddMSD field to the device's BLE vendor custom data table; 0x01 is Delete mode which removes the AddMSD field from the BLE vendor custom data table. AddMSD: single BLE vendor-defined data, length 2-64 characters, and length must be a multiple of 2, character range [0-9a-fA-F]. Data segment at response: CmdID Data 0x18 Result\\n Result\uff1a0x00 represents execution success; 0x01 represents execution failure.","title":"SET_MSD_FILTER"},{"location":"user_guide/gl-s10/user_manual/#get_msd_filter","text":"API Function: Get BLE vendor custom data filter table entries. Data segment on reception. CmdID Data 0x19 / Data is equal to null Data segment at response: CmdID Data 0x19 Result\\n AddMSD0\\n AddMSD1\\n\u2026\\n Result: 0x00 represents execution success; 0x01 represents execution failure. AddMSD: AddMSD0, AddMSD1 are single MSD, which will send all the data in the MSD filter table together. MSD: Manufacturer Specific Data.","title":"GET_MSD_FILTER"},{"location":"user_guide/gl-s10/user_manual/#update_mqtt_cert","text":"API functionality: Update MQTT encryption certificate. Data segment at reception: CmdID Data 0x1A MODE\\nMqttCertURL\\n MODE: 0x00 updates certificate immediately, 0x01 only saves certificate URL, and does not update certificate immediately. Occupies 1 character. MQTT encrypted certificate URL address, length 1-500 characters. Note: If the Data segment is null, the MqttCertURL will be restored to the default configuration, and the certificate will be updated. Data segment at response: CmdID Data 0x1A Result\\n Result: 0x00 represents execution success; 0x01 represents execution failure.","title":"UPDATE_MQTT_CERT"},{"location":"user_guide/gl-s10/user_manual/#update_wpa2_cert","text":"API function: Update Wi-Fi WPA2 encryption certificate. Data segment at reception: CmdID Data 0x1B MODE\\nWpa2CertURL\\n MODE: 0x00 updates certificate immediately, 0x01 only saves certificate URL, and does not update certificate immediately. Occupies 1 character. Wpa2CertURL: WPA2 encryption certificate URL address, length 1-500 characters. Note: If the Data segment is null, the Wpa2CertURL will be restored to the default configuration, and the certificate will be updated. Data segment at response: CmdID Data 0x1B Result\\n Result: 0x00 represents execution success; 0x01 represents execution failure.","title":"UPDATE_WPA2_CERT"},{"location":"user_guide/gl-s10/user_manual/#update_https_cert","text":"API functions: Update HTTPS encryption certificate. Data segment at reception: CmdID Data 0x1C MODE\\nHttpsCertURL\\n MODE: 0x00 updates certificate immediately, 0x01 only saves certificate URL, and does not update certificate immediately. Occupies 1 character. HttpsCertURL: HTTPS encrypted certificate URL address, length 1-500 characters. Note: If the Data segment is null, the HttpsCertURL will be restored to the default configuration, and the certificate will be updated. Data segment at response: CmdID Data 0x1C Result\\n Result: 0x00 represents execution success; 0x01 represents execution failure.","title":"UPDATE_HTTPS_CERT"},{"location":"user_guide/gl-s10/user_manual/#set_ota_url","text":"API function: Set the OTA URL. Data segment at reception: CmdID Data 0x1D updateNow\\nOtaURL\\n updateNow: whether to upgrade OTA immediately, occupies 1 byte, character '0' will save the URL and upgrade immediately, character '1' will only save the url without upgrading. OtaURL: the server link for OTA upgrade, length 1-512 characters. Note: If the Data segment is null, OtaURL will be restored to the default configuration, but will not trigger OTA. Data segment at response: CmdID Data 0x1D Result\\n Result: 0x00 represents execution success; 0x01 represents execution failure.","title":"SET_OTA_URL"},{"location":"user_guide/gl-s10/user_manual/#get_ota_url","text":"API Function: Get the OTA URL. Data segment at reception: CmdID Data 0x1E / Data is equal to null. Data segment at response: CmdID Data 0x1E Result\\n OtaURL\\n Result: 0x00 represents execution success; 0x01 represents execution failure. OtaURL: the server link of OTA upgrade, length 1-512 characters.","title":"GET_OTA_URL"},{"location":"user_guide/gl-s10/user_manual/#ota_status","text":"API function: Reply result after OTA completion, initiated by the device after OTA completion. Data segment at response: CmdID Data 0x1F Result\\n / Result\uff1a0x00 represents execution success; 0x01 represents execution failure.","title":"OTA_STATUS"},{"location":"user_guide/gl-s10/user_manual/#get_dev_status","text":"API Function: Get device Wi-Fi RSSI, networking status, server connection status. Data segment at reception: CmdID Data 0x20 / Data is equal to null Data segment at response: CmdID Data 0x20 Result\\n WiFi_RSSI\\nIS_CONNECT_NETWORK\\nIS_CONNECT_SERVER\\nWiFi_MODE\\n Result\uff1a0x00 represents execution success; 0x01 represents execution failure. WiFi_RSSI: RSSI of the connected router, range -96 ~ 0, occupies 1 byte, signed character. IS_CONNECT_NETWORK: network connection status 0x00 means not connected; 0x01 means connected. IS_CONNECT_SERVER: MQTT server connection status 0x00 means not connected; 0x01 means connected. WiFi_MODE: Wi-Fi connection mode [0x00 -> no password] [0x01 -> wpa2 personal encryption] [0x02 -> wpa2 enterprise encryption]","title":"GET_DEV_STATUS"},{"location":"user_guide/gl-s10/user_manual/#get_dev_message","text":"API Function: Get device Wi-Fi MAC, BLE MAC, SN, Device ID, firmware version number. Data segment at reception: CmdID Data 0x21 / Data is equal to null Data segment at response: CmdID Data 0x21 Result\\n BLE_MAC\\nWiFi_MAC\\nSN\\nDevice_ID\\nFirmwareVersion\\n Result: 0x00 represents execution success; 0x01 represents execution failure. WiFi_MAC: Format XX:XX:XX:XX:XX:XX, XX range [0-9a-fA-F]. BLE_MAC: Format XX:XX:XX:XX:XX:XX:XX , XX range [0-9a-fA-F]. SN: Device SN code, length 16 characters. Device_ID: device ID code, length 7 characters. FirmwareVersion: firmware version number, length 0-32 characters.","title":"GET_DEV_MESSAGE"},{"location":"user_guide/gl-s10/user_manual/#restart_dev","text":"API function: Reboot the device. Data segment at reception: CmdID Data 0x22 / Data is equal to null Data segment at response: CmdID Data 0x22 Result\\n Result: 0x00 represents execution success; 0x01 represents execution failure.","title":"RESTART_DEV"},{"location":"user_guide/gl-s10/user_manual/#reset_dev","text":"API function: Reset the device. Data segment at reception: CmdID Data 0x23 / Data is equal to null Data segment at response: CmdID Data 0x23 Result\\n Result: 0x00 represents execution success; 0x01 represents execution failure.","title":"RESET_DEV"},{"location":"user_guide/gl-s10/user_manual/#set_ble_rssi_filter","text":"API function: Set the BLE_RSSI filter threshold. Data segment at reception: CmdID Data 0x24 BLERssiFilter\\n BLERssiFilter: char type Range -100 ~ 0. Default value: -100 Data segment at response: CmdID Data 0x24 Result\\n Result: 0x00 represents execution success; 0x01 represents execution failure.","title":"SET_BLE_RSSI_FILTER"},{"location":"user_guide/gl-s10/user_manual/#get_ble_rssi_filter","text":"API Function: Get the BLE_RSSI filter threshold. Data segment at reception: CmdID Data 0x25 / Data segment at response: CmdID Data 0x25 Result\\n BLERssiFilter\\n Result: 0x00 represents execution success; 0x01 represents execution failure. BLERssiFilter: char type Range -100 ~ 0.","title":"GET_BLE_RSSI_FILTER"},{"location":"user_guide/gl-s10/user_manual/#get_wifi_ap_list","text":"API Function: Get the list of surrounding Wi-Fi AP information. Data segment at reception: CmdID Data 0x26 / Data segment at response: CmdID Data 0x26 Result\\n { \"WiFi_AP_LIST\": [ {\"SSID\": \"XXXX\",\"RSSI\":XXX,\"authMode\": X}, {\"SSID\": \"XXXX\",\"RSSI\":XXX, \"authMode\":X}, {\"SSID\": \"XXXX\",\"RSSI\": XXX, \"authMode\": X}, \u2026\u2026 ] } Result: 0x00 represents execution success; 0x01 represents execution failure. SSID: router name, in string form, valid length 0-32 RSSI: Routing signal strength, numeric type, valid range -96 ~ 0. AUTH_MODE: Routing encryption method, numeric type, valid range 0 ~ 7. See the following table for the meaning. CmdID Data 0 authenticate mode : open 1 authenticate mode : WEP 2 authenticate mode : WPA_PSK 3 authenticate mode : WPA2_PSK 4 authenticate mode : WPA_WPA2_PSK 5 authenticate mode : WPA2_ENTERPRISE 5 authenticate mode : WPA2_ENTERPRISE 6 authenticate mode : WPA3_PS 7 authenticate mode : WPA2_WPA3_PSK - default","title":"GET_WiFi_AP_LIST"},{"location":"user_guide/gl-s200/applications/","text":"APPLICATIONS \u00b6 GL.iNet routers include a wide range of add-on features that simplifies device management, improves user's internet experience, automates firmware update, and more. Plug-ins \u00b6 Please visit the Plug-ins tutorial. Dynamic DNS \u00b6 Please visit the Dynamic DNS tutorial. GoodCloud \u00b6 Please visit the GoodCloud tutorial.","title":"Applications"},{"location":"user_guide/gl-s200/applications/#applications","text":"GL.iNet routers include a wide range of add-on features that simplifies device management, improves user's internet experience, automates firmware update, and more.","title":"APPLICATIONS"},{"location":"user_guide/gl-s200/applications/#plug-ins","text":"Please visit the Plug-ins tutorial.","title":"Plug-ins"},{"location":"user_guide/gl-s200/applications/#dynamic-dns","text":"Please visit the Dynamic DNS tutorial.","title":"Dynamic DNS"},{"location":"user_guide/gl-s200/applications/#goodcloud","text":"Please visit the GoodCloud tutorial.","title":"GoodCloud"},{"location":"user_guide/gl-s200/bluetooth/","text":"Bluetooth \u00b6 Please visit the Bluetooth tutorial.","title":"Bluetooth"},{"location":"user_guide/gl-s200/bluetooth/#bluetooth","text":"Please visit the Bluetooth tutorial.","title":"Bluetooth"},{"location":"user_guide/gl-s200/clients/","text":"CLIENTS \u00b6 Clients are devices connected to the router, you can block clients or limit its network speed. The interface is accessible by clicking CLIENTS in the side menu of the router\u2019s Admin Panel. Click here to learn more about managing your device clients.","title":"Clients"},{"location":"user_guide/gl-s200/clients/#clients","text":"Clients are devices connected to the router, you can block clients or limit its network speed. The interface is accessible by clicking CLIENTS in the side menu of the router\u2019s Admin Panel. Click here to learn more about managing your device clients.","title":"CLIENTS"},{"location":"user_guide/gl-s200/first_time_setup/","text":"First time setup \u00b6 All of GL.iNet's devices have a simple and almost identical setup process, click here to learn about the first time setup . Please note that the adapter within the package depends on your shipping country. What\u2019s inside the package? Package Contents: 1 x User manual 1 x GL-S200 1 x Ethernet cable 1 x Thank you card 1 x Warranty card 1 x Power adapter (Selected plug type) Check out GL-S200's unboxing video .","title":"First Time Setup"},{"location":"user_guide/gl-s200/first_time_setup/#first-time-setup","text":"All of GL.iNet's devices have a simple and almost identical setup process, click here to learn about the first time setup . Please note that the adapter within the package depends on your shipping country. What\u2019s inside the package? Package Contents: 1 x User manual 1 x GL-S200 1 x Ethernet cable 1 x Thank you card 1 x Warranty card 1 x Power adapter (Selected plug type) Check out GL-S200's unboxing video .","title":"First time setup"},{"location":"user_guide/gl-s200/gl_dev_board/","text":"https://docs.gl-inet.com/iot/en/user_guide/thread_dev_board/","title":"GL Dev Board"},{"location":"user_guide/gl-s200/hardware_info/","text":"Hardware info \u00b6 GL-S200 is a miniaturized Thread gateway supporting BLE protocol that runs on a highly customizable OpenWrt operating system and supports cloud device management. It has a versatile design for connecting to various smart home devices, or mass device connectivity for smart buildings. Specification \u00b6 GL-s200 specification GL-S200 PCB Pinout \u00b6 GL Thread Dev Board Pinout \u00b6","title":"Hardware Info"},{"location":"user_guide/gl-s200/hardware_info/#hardware-info","text":"GL-S200 is a miniaturized Thread gateway supporting BLE protocol that runs on a highly customizable OpenWrt operating system and supports cloud device management. It has a versatile design for connecting to various smart home devices, or mass device connectivity for smart buildings.","title":"Hardware info"},{"location":"user_guide/gl-s200/hardware_info/#specification","text":"GL-s200 specification","title":"Specification"},{"location":"user_guide/gl-s200/hardware_info/#gl-s200-pcb-pinout","text":"","title":"GL-S200 PCB Pinout"},{"location":"user_guide/gl-s200/hardware_info/#gl-thread-dev-board-pinout","text":"","title":"GL Thread Dev Board Pinout"},{"location":"user_guide/gl-s200/internet/","text":"INTERNET \u00b6 The internet configuration interface lets users choose to establish the type of internet connection supported by the router. Configure the internet network by selecting INTERNET in the side menu within the router's web Admin Panel. It supports two ways to connect to the internet as listed below: Ethernet \u00b6 Transmit data over an Ethernet cable using an Ethernet cable to connect the router to an active modem or an active network device. This method usually provides the fastest and most reliable Internet connection. Click here to learn how to connect to the internet via an ethernet cable Repeater \u00b6 Extend the Wi-Fi coverage area of an existing Wi-Fi network by using a router to receive wireless signals within range and forwarding the signals to a further distance. This method is most useful when a single router does not have enough range to cover the entire usage area. Click here to learn how to connect to the internet via an existing Wi-Fi Priority and load balance \u00b6 Go to Multi-WAN to set the priority of each Internet access method or the load balance when multiple Internet access methods are used at the same time.","title":"Internet"},{"location":"user_guide/gl-s200/internet/#internet","text":"The internet configuration interface lets users choose to establish the type of internet connection supported by the router. Configure the internet network by selecting INTERNET in the side menu within the router's web Admin Panel. It supports two ways to connect to the internet as listed below:","title":"INTERNET"},{"location":"user_guide/gl-s200/internet/#ethernet","text":"Transmit data over an Ethernet cable using an Ethernet cable to connect the router to an active modem or an active network device. This method usually provides the fastest and most reliable Internet connection. Click here to learn how to connect to the internet via an ethernet cable","title":"Ethernet"},{"location":"user_guide/gl-s200/internet/#repeater","text":"Extend the Wi-Fi coverage area of an existing Wi-Fi network by using a router to receive wireless signals within range and forwarding the signals to a further distance. This method is most useful when a single router does not have enough range to cover the entire usage area. Click here to learn how to connect to the internet via an existing Wi-Fi","title":"Repeater"},{"location":"user_guide/gl-s200/internet/#priority-and-load-balance","text":"Go to Multi-WAN to set the priority of each Internet access method or the load balance when multiple Internet access methods are used at the same time.","title":"Priority and load balance"},{"location":"user_guide/gl-s200/network/","text":"NETWORK \u00b6 Firewall \u00b6 GL.iNet's routers include multiple firewall features to ensure a secure connection and complete oversight by users. It lets users configure firewall rules including Port Forwarding, Open Ports, and DMZ. Click here to learn more about GL.iNet routers\u2019 firewall Multi-WAN \u00b6 Please visit the Multi-WAN tutorial. LAN \u00b6 Please visit the LAN tutorial. DNS \u00b6 Please visit the DNS tutorial. IPv6 \u00b6 Please visit the IPv6 tutorial. MAC Address \u00b6 The Mac Address page was previously called Mac Clone and has been changed to Mac Address since v4.2. Please visit the MAC Address tutorial. IGMP Snooping \u00b6 Please visit the IGMP Snooping tutorial.","title":"Network"},{"location":"user_guide/gl-s200/network/#network","text":"","title":"NETWORK"},{"location":"user_guide/gl-s200/network/#firewall","text":"GL.iNet's routers include multiple firewall features to ensure a secure connection and complete oversight by users. It lets users configure firewall rules including Port Forwarding, Open Ports, and DMZ. Click here to learn more about GL.iNet routers\u2019 firewall","title":"Firewall"},{"location":"user_guide/gl-s200/network/#multi-wan","text":"Please visit the Multi-WAN tutorial.","title":"Multi-WAN"},{"location":"user_guide/gl-s200/network/#lan","text":"Please visit the LAN tutorial.","title":"LAN"},{"location":"user_guide/gl-s200/network/#dns","text":"Please visit the DNS tutorial.","title":"DNS"},{"location":"user_guide/gl-s200/network/#ipv6","text":"Please visit the IPv6 tutorial.","title":"IPv6"},{"location":"user_guide/gl-s200/network/#mac-address","text":"The Mac Address page was previously called Mac Clone and has been changed to Mac Address since v4.2. Please visit the MAC Address tutorial.","title":"MAC Address"},{"location":"user_guide/gl-s200/network/#igmp-snooping","text":"Please visit the IGMP Snooping tutorial.","title":"IGMP Snooping"},{"location":"user_guide/gl-s200/system/","text":"SYSTEM \u00b6 Overview \u00b6 Please visit the System Overview tutorial. Upgrade \u00b6 GL.iNet provides regular updates on our routers' firmware to improve performance, resolving bugs and fix vulnerabilities. Please visit the Upgrade tutorial. Scheduled Tasks \u00b6 Please visit the Scheduled Tasks tutorial. Admin Password \u00b6 Please visit the Admin Password tutorial. Time Zone \u00b6 Please visit the Time Zone tutorial. Toggle Button Settings \u00b6 Please visit the Toggle Button Settings tutorial. Log \u00b6 Please visit the Log tutorial. Reset Firmware \u00b6 Please visit the Reset Firmware tutorial. Advanced Settings \u00b6 Please visit the Advanced Settings tutorial.","title":"System"},{"location":"user_guide/gl-s200/system/#system","text":"","title":"SYSTEM"},{"location":"user_guide/gl-s200/system/#overview","text":"Please visit the System Overview tutorial.","title":"Overview"},{"location":"user_guide/gl-s200/system/#upgrade","text":"GL.iNet provides regular updates on our routers' firmware to improve performance, resolving bugs and fix vulnerabilities. Please visit the Upgrade tutorial.","title":"Upgrade"},{"location":"user_guide/gl-s200/system/#scheduled-tasks","text":"Please visit the Scheduled Tasks tutorial.","title":"Scheduled Tasks"},{"location":"user_guide/gl-s200/system/#admin-password","text":"Please visit the Admin Password tutorial.","title":"Admin Password"},{"location":"user_guide/gl-s200/system/#time-zone","text":"Please visit the Time Zone tutorial.","title":"Time Zone"},{"location":"user_guide/gl-s200/system/#toggle-button-settings","text":"Please visit the Toggle Button Settings tutorial.","title":"Toggle Button Settings"},{"location":"user_guide/gl-s200/system/#log","text":"Please visit the Log tutorial.","title":"Log"},{"location":"user_guide/gl-s200/system/#reset-firmware","text":"Please visit the Reset Firmware tutorial.","title":"Reset Firmware"},{"location":"user_guide/gl-s200/system/#advanced-settings","text":"Please visit the Advanced Settings tutorial.","title":"Advanced Settings"},{"location":"user_guide/gl-s200/thread_mesh/","text":"Thread Mesh \u00b6 Please visit the Thread Mesh tutorial.","title":"Thread Mesh"},{"location":"user_guide/gl-s200/thread_mesh/#thread-mesh","text":"Please visit the Thread Mesh tutorial.","title":"Thread Mesh"},{"location":"user_guide/gl-s200/vpn/","text":"VPN \u00b6 GL.iNet routers are pre-installed with OpenVPN and WireGuard\u00ae supporting 30+ VPN services. It automatically encrypts all network traffic within the connected network, including guest devices and client devices that are not capable of running VPN encryption. Our routers can also act as VPN servers, redirecting traffic from client devices in remote locations to the VPN server via a VPN tunnel before accessing the public internet. VPN Dashboard \u00b6 VPN Dashboard OpenVPN \u00b6 Please refer to the following links for a step to step setup guide: Setup OpenVPN Client Setup OpenVPN Server WireGuard \u00b6 Please refer to the following links for a step to step setup guide: Setup WireGuard Client Setup WireGuard Server","title":"VPN"},{"location":"user_guide/gl-s200/vpn/#vpn","text":"GL.iNet routers are pre-installed with OpenVPN and WireGuard\u00ae supporting 30+ VPN services. It automatically encrypts all network traffic within the connected network, including guest devices and client devices that are not capable of running VPN encryption. Our routers can also act as VPN servers, redirecting traffic from client devices in remote locations to the VPN server via a VPN tunnel before accessing the public internet.","title":"VPN"},{"location":"user_guide/gl-s200/vpn/#vpn-dashboard","text":"VPN Dashboard","title":"VPN Dashboard"},{"location":"user_guide/gl-s200/vpn/#openvpn","text":"Please refer to the following links for a step to step setup guide: Setup OpenVPN Client Setup OpenVPN Server","title":"OpenVPN"},{"location":"user_guide/gl-s200/vpn/#wireguard","text":"Please refer to the following links for a step to step setup guide: Setup WireGuard Client Setup WireGuard Server","title":"WireGuard"},{"location":"user_guide/gl-s200/wireless/","text":"WIRELESS \u00b6 The wireless settings lets users manage network security of the primary Wi-Fi and the Guest Wi-Fi, it is accessible by going to WIRELESS on the side menu. Click here to learn more about the wireless configuration","title":"Wireless"},{"location":"user_guide/gl-s200/wireless/#wireless","text":"The wireless settings lets users manage network security of the primary Wi-Fi and the Guest Wi-Fi, it is accessible by going to WIRELESS on the side menu. Click here to learn more about the wireless configuration","title":"WIRELESS"},{"location":"user_guide/thread_dev_board/","text":"GL DEV BOARD \u00b6 In order to give users a more intuitive experience of the thread network functions, we have developed a set of Thread development boards. The GL DEV BOARD is a page dedicated to controlling the Thread development board for GL development and displaying relevant data. Devices \u00b6 The TDB(GL Thread DEV Board) can join the network by using thread Commissioning, but you need to know the EUI64 of the TDB and the device pre-shared key PSKd. To simplify the configuration process, we have pre-built fixed keys in the firmware, which can be added quickly as follows. Add TDB to the network \u00b6 Click on Add Devices . Click on Allow New Devices To Join and Click on Apply . Power up the TDB, press and hold SW2 for three seconds or more to restore the factory settings, then press SW2 briefly. You can see the green light flashing. When the green light of the development board is always on, it means that it successfully joins the network. The first time a device is successfully added, the web page will automatically pop up New Devices to prompt for configuration Type/Name information Type : If theTDB comes with an A0 board, please select \" A0+A1 \". Name : User defined names. You can see that the development board was successfully added to the Online card. Control TDB \u00b6 Device Detail \u00b6 You can view the current data of the TDB on the Device Detail page. View Records \u00b6 You can view a graph of the TDB's historical data on the View Records page. Edit Device \u00b6 You can edit the settings of the TDB on the Edit Device page. Code Examples \u00b6 We have prepared some sample code to control the TDB. You can run them in the S200 backend, or write your own applications by referring to these examples. Reset Device \u00b6 If you want to remove the TDB from the network, use the reset device function. Note : This will restore the TDB to its factory settings. Automations \u00b6 To enable users to better test the thread network in real-life situations, we offer some simple, restricted device linkage functions. Add an automation with device action \u00b6 As an example, create an automation example: press a button on either board and the RGB lights on/off on both boards. Create a name Select type of trigger conditions Select the device(s) to be used as an trigger. Select trigger conditions Select the type of operation Select the device(s) to be used as an actuator Select actuator's actions You can see the automation cards that have been created. Add an automation with webhook \u00b6 A webhook in web development is a method of augmenting or altering the behavior of a web page or web application with custom callbacks. As an example, I need TDB for home security alarms. When someone enters, send a message to Discord via webhook. Create a webhook url from Discord Please refer to the official Discord documentation . Please copy the url of the webhook, the next steps need to use. Fellow the steps below to create an automation. Give it a name for the automation. Select Sensor trigger . Select devices. Select trigger condition. Select Webhook . Paste the url you got when you created the webhook. Enter the message you wish to send to Discord. Discord specifies that the message sent provide a value for at least one of content , embeds , components , or file . Note : Different Internet applications have their own definitions for the content and format of messages, please refer to the relevant documentation. Finally, an Automation that triggers the webhook is successfully created. When the TDB's pyroelectric infrared sensor is triggered, the GL-S200 sends the specified message to the webhook that is set up. Still have questions? Visit our Community Forum .","title":"First Time Setup"},{"location":"user_guide/thread_dev_board/#gl-dev-board","text":"In order to give users a more intuitive experience of the thread network functions, we have developed a set of Thread development boards. The GL DEV BOARD is a page dedicated to controlling the Thread development board for GL development and displaying relevant data.","title":"GL DEV BOARD"},{"location":"user_guide/thread_dev_board/#devices","text":"The TDB(GL Thread DEV Board) can join the network by using thread Commissioning, but you need to know the EUI64 of the TDB and the device pre-shared key PSKd. To simplify the configuration process, we have pre-built fixed keys in the firmware, which can be added quickly as follows.","title":"Devices"},{"location":"user_guide/thread_dev_board/#add-tdb-to-the-network","text":"Click on Add Devices . Click on Allow New Devices To Join and Click on Apply . Power up the TDB, press and hold SW2 for three seconds or more to restore the factory settings, then press SW2 briefly. You can see the green light flashing. When the green light of the development board is always on, it means that it successfully joins the network. The first time a device is successfully added, the web page will automatically pop up New Devices to prompt for configuration Type/Name information Type : If theTDB comes with an A0 board, please select \" A0+A1 \". Name : User defined names. You can see that the development board was successfully added to the Online card.","title":"Add TDB to the network"},{"location":"user_guide/thread_dev_board/#control-tdb","text":"","title":"Control TDB"},{"location":"user_guide/thread_dev_board/#device-detail","text":"You can view the current data of the TDB on the Device Detail page.","title":"Device Detail"},{"location":"user_guide/thread_dev_board/#view-records","text":"You can view a graph of the TDB's historical data on the View Records page.","title":"View Records"},{"location":"user_guide/thread_dev_board/#edit-device","text":"You can edit the settings of the TDB on the Edit Device page.","title":"Edit Device"},{"location":"user_guide/thread_dev_board/#code-examples","text":"We have prepared some sample code to control the TDB. You can run them in the S200 backend, or write your own applications by referring to these examples.","title":"Code Examples"},{"location":"user_guide/thread_dev_board/#reset-device","text":"If you want to remove the TDB from the network, use the reset device function. Note : This will restore the TDB to its factory settings.","title":"Reset Device"},{"location":"user_guide/thread_dev_board/#automations","text":"To enable users to better test the thread network in real-life situations, we offer some simple, restricted device linkage functions.","title":"Automations"},{"location":"user_guide/thread_dev_board/#add-an-automation-with-device-action","text":"As an example, create an automation example: press a button on either board and the RGB lights on/off on both boards. Create a name Select type of trigger conditions Select the device(s) to be used as an trigger. Select trigger conditions Select the type of operation Select the device(s) to be used as an actuator Select actuator's actions You can see the automation cards that have been created.","title":"Add an automation with device action"},{"location":"user_guide/thread_dev_board/#add-an-automation-with-webhook","text":"A webhook in web development is a method of augmenting or altering the behavior of a web page or web application with custom callbacks. As an example, I need TDB for home security alarms. When someone enters, send a message to Discord via webhook. Create a webhook url from Discord Please refer to the official Discord documentation . Please copy the url of the webhook, the next steps need to use. Fellow the steps below to create an automation. Give it a name for the automation. Select Sensor trigger . Select devices. Select trigger condition. Select Webhook . Paste the url you got when you created the webhook. Enter the message you wish to send to Discord. Discord specifies that the message sent provide a value for at least one of content , embeds , components , or file . Note : Different Internet applications have their own definitions for the content and format of messages, please refer to the relevant documentation. Finally, an Automation that triggers the webhook is successfully created. When the TDB's pyroelectric infrared sensor is triggered, the GL-S200 sends the specified message to the webhook that is set up. Still have questions? Visit our Community Forum .","title":"Add an automation with webhook"}]}